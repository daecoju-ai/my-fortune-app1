import streamlit as st
from datetime import datetime, timedelta
import random
import re
import json

# ---- Google Sheet ----
try:
    import gspread
    from google.oauth2.service_account import Credentials
except Exception:
    gspread = None
    Credentials = None

# =========================================================
# 0) App Config
# =========================================================
APP_URL = "https://my-fortune.streamlit.app"
SPREADSHEET_ID = "1WvuKXx2if2WvxmQaxkqzFW-BzDEWWma9hZgCr2jJQYY"  # ê³ ì •
SHEET_NAME = "ì‹œíŠ¸1"  # ê³ ì •

st.set_page_config(
    page_title="2026 Fortune | ë +MBTI+ì‚¬ì£¼+ì˜¤ëŠ˜/ë‚´ì¼",
    page_icon="ğŸ”®",
    layout="centered"
)

# =========================================================
# 1) Safe Toast
# =========================================================
def safe_toast(msg: str):
    if not msg:
        return
    try:
        if hasattr(st, "toast"):
            st.toast(msg)
        else:
            st.success(msg)
    except Exception:
        st.success(msg)

# =========================================================
# 2) SEO Inject (ì•ˆì „í•˜ê²Œ)
# =========================================================
def inject_seo(lang_code: str):
    desc_map = {
        "ko": "2026ë…„ ë ìš´ì„¸ + MBTI + ì‚¬ì£¼ + ì˜¤ëŠ˜/ë‚´ì¼ ìš´ì„¸ + íƒ€ë¡œê¹Œì§€ ë¬´ë£Œë¡œ! (í•œêµ­ì–´ ë¯¸ë‹ˆê²Œì„ ì´ë²¤íŠ¸ í¬í•¨)",
        "en": "Free 2026 Zodiac + MBTI + Saju + Daily/Tomorrow fortune + Tarot.",
        "ja": "2026å¹´ã®å¹²æ”¯é‹å‹¢ï¼‹MBTIï¼‹å››æŸ±ï¼‹ä»Šæ—¥/æ˜æ—¥ï¼‹ã‚¿ãƒ­ãƒƒãƒˆã‚’ç„¡æ–™ã§ã€‚",
        "zh": "å…è´¹ï¼š2026ç”Ÿè‚–è¿åŠ¿ + MBTI + å››æŸ± + ä»Šæ—¥/æ˜æ—¥ + å¡”ç½—ã€‚",
        "ru": "Ğ‘ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾: 2026 Ğ·Ğ¾Ğ´Ğ¸Ğ°Ğº + MBTI + ÑĞ°Ğ´Ğ¶Ñƒ + ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ/Ğ·Ğ°Ğ²Ñ‚Ñ€Ğ° + Ñ‚Ğ°Ñ€Ğ¾.",
        "hi": "à¤®à¥à¤«à¤¼à¥à¤¤: 2026 à¤°à¤¾à¤¶à¤¿ + MBTI + à¤¸à¤¾à¤œà¥‚ + à¤†à¤œ/à¤•à¤² + à¤Ÿà¥ˆà¤°à¥‹à¥¤",
    }
    kw_map = {
        "ko": "2026 ìš´ì„¸, ë ìš´ì„¸, MBTI ìš´ì„¸, ì‚¬ì£¼, ì˜¤ëŠ˜ ìš´ì„¸, ë‚´ì¼ ìš´ì„¸, ë¬´ë£Œ ìš´ì„¸, íƒ€ë¡œ, ì—°ì• ìš´, ì¬ë¬¼ìš´, ê±´ê°•ìš´",
        "en": "2026 fortune, zodiac, MBTI, saju, today fortune, tomorrow fortune, free, tarot",
        "ja": "2026 é‹å‹¢, å¹²æ”¯, MBTI, å››æŸ±, ä»Šæ—¥, æ˜æ—¥, ç„¡æ–™, ã‚¿ãƒ­ãƒƒãƒˆ",
        "zh": "2026 è¿åŠ¿, ç”Ÿè‚–, MBTI, å››æŸ±, ä»Šæ—¥, æ˜æ—¥, å…è´¹, å¡”ç½—",
        "ru": "2026 Ğ³Ğ¾Ñ€Ğ¾ÑĞºĞ¾Ğ¿, Ğ·Ğ¾Ğ´Ğ¸Ğ°Ğº, MBTI, ÑĞ°Ğ´Ğ¶Ñƒ, ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ, Ğ·Ğ°Ğ²Ñ‚Ñ€Ğ°, Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾, Ñ‚Ğ°Ñ€Ğ¾",
        "hi": "2026 à¤°à¤¾à¤¶à¤¿à¤«à¤², à¤°à¤¾à¤¶à¤¿, MBTI, à¤¸à¤¾à¤œà¥‚, à¤†à¤œ, à¤•à¤², à¤®à¥à¤«à¥à¤¤, à¤Ÿà¥ˆà¤°à¥‹",
    }

    description = desc_map.get(lang_code, desc_map["en"])
    keywords = kw_map.get(lang_code, kw_map["en"])

    title = "2026 Fortune | Zodiac + MBTI + Saju + Today/Tomorrow"
    if lang_code == "ko":
        title = "2026 ìš´ì„¸ | ë  + MBTI + ì‚¬ì£¼ + ì˜¤ëŠ˜/ë‚´ì¼ ìš´ì„¸"

    webapp_ld = {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": title,
        "url": APP_URL,
        "applicationCategory": "LifestyleApplication",
        "operatingSystem": "Web",
        "description": description
    }

    faq_ld = {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {"@type": "Question", "name": "What is this?", "acceptedAnswer": {"@type": "Answer", "text": description}},
        ]
    }

    # ì–´ë–¤ í™˜ê²½ì—ì„œë„ ì—ëŸ¬ ì•ˆ ë‚˜ê²Œ try ê°ì‹¸ê¸°
    try:
        st.components.v1.html(
            f"""
<script>
(function() {{
  try {{
    const description = {json.dumps(description, ensure_ascii=False)};
    const keywords = {json.dumps(keywords, ensure_ascii=False)};
    const title = {json.dumps(title, ensure_ascii=False)};
    const appUrl = {json.dumps(APP_URL, ensure_ascii=False)};

    const metas = [
      ['name','description', description],
      ['name','keywords', keywords],
      ['property','og:title', title],
      ['property','og:description', description],
      ['property','og:type','website'],
      ['property','og:url', appUrl],
      ['name','twitter:card','summary'],
      ['name','robots','index,follow']
    ];

    metas.forEach(([attr, key, val]) => {{
      let el = document.head.querySelector(`meta[${{attr}}="${{key}}"]`);
      if(!el) {{
        el = document.createElement('meta');
        el.setAttribute(attr, key);
        document.head.appendChild(el);
      }}
      el.setAttribute('content', val);
    }});

    let canonical = document.head.querySelector('link[rel="canonical"]');
    if(!canonical) {{
      canonical = document.createElement('link');
      canonical.setAttribute('rel','canonical');
      document.head.appendChild(canonical);
    }}
    canonical.setAttribute('href', appUrl);

    const webappLd = {json.dumps(json.dumps(webapp_ld, ensure_ascii=False))};
    let s1 = document.head.querySelector('script[data-jsonld="fortune-webapp"]');
    if(!s1) {{
      s1 = document.createElement('script');
      s1.type = 'application/ld+json';
      s1.setAttribute('data-jsonld','fortune-webapp');
      document.head.appendChild(s1);
    }}
    s1.text = webappLd;

    const faqLd = {json.dumps(json.dumps(faq_ld, ensure_ascii=False))};
    let s2 = document.head.querySelector('script[data-jsonld="fortune-faq"]');
    if(!s2) {{
      s2 = document.createElement('script');
      s2.type = 'application/ld+json';
      s2.setAttribute('data-jsonld','fortune-faq');
      document.head.appendChild(s2);
    }}
    s2.text = faqLd;

  }} catch(e) {{}}
}})();
</script>
""",
            height=0
        )
    except Exception:
        pass

# =========================================================
# 3) Language / Text
# =========================================================
LANGS = [
    ("ko", "í•œêµ­ì–´"),
    ("en", "English"),
    ("ja", "æ—¥æœ¬èª"),
    ("zh", "ä¸­æ–‡"),
    ("ru", "Ğ ÑƒÑÑĞºĞ¸Ğ¹"),
    ("hi", "à¤¹à¤¿à¤¨à¥à¤¦à¥€"),
]

T = {
    "ko": {
        "lang_pick": "ì–¸ì–´ ì„ íƒ",
        "title": "2026 ë  + MBTI + ì‚¬ì£¼ + ì˜¤ëŠ˜/ë‚´ì¼ ìš´ì„¸",
        "subtitle": "ì™„ì „ ë¬´ë£Œ",
        "name": "ì´ë¦„ ì…ë ¥ (ê²°ê³¼ì— í‘œì‹œë¼ìš”)",
        "birth": "ìƒë…„ì›”ì¼ ì…ë ¥",
        "year": "ë…„", "month": "ì›”", "day": "ì¼",
        "mbti_mode": "MBTIë¥¼ ì–´ë–»ê²Œ í• ê¹Œìš”?",
        "mbti_direct": "ì§ì ‘ ì„ íƒ",
        "mbti_12": "ê°„ë‹¨ í…ŒìŠ¤íŠ¸ (12ë¬¸í•­)",
        "mbti_16": "ìƒì„¸ í…ŒìŠ¤íŠ¸ (16ë¬¸í•­)",
        "mbti_submit": "ì œì¶œí•˜ê³  MBTI í™•ì •",
        "go_result": "2026ë…„ ìš´ì„¸ ë³´ê¸°!",
        "reset": "ì²˜ìŒë¶€í„° ë‹¤ì‹œí•˜ê¸°",
        "share_link_btn": "ğŸ”— ë§í¬ ê³µìœ í•˜ê¸°",
        "share_link_hint": "ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ â€˜ë§í¬ ê³µìœ â€™ ì°½ì´ ëœ¹ë‹ˆë‹¤. (ì§€ì› ì•ˆ ë˜ë©´ ìë™ìœ¼ë¡œ ë³µì‚¬)",
        "copy_done": "ë§í¬ë¥¼ ë³µì‚¬í–ˆì–´ìš”!",
        "tarot_btn": "ì˜¤ëŠ˜ì˜ íƒ€ë¡œ ì¹´ë“œ ë½‘ê¸°",
        "tarot_title": "ì˜¤ëŠ˜ì˜ íƒ€ë¡œ ì¹´ë“œ",
        "sections": {
            "zodiac": "ë  ìš´ì„¸",
            "mbti": "MBTI íŠ¹ì§•",
            "saju": "ì‚¬ì£¼ í•œ ë§ˆë””",
            "today": "ì˜¤ëŠ˜ ìš´ì„¸",
            "tomorrow": "ë‚´ì¼ ìš´ì„¸",
            "year_all": "2026 ì „ì²´ ìš´ì„¸",
            "advice": "ì¡°í•© ì¡°ì–¸",
        },
        "ad_placeholder": "AD (ì‹¬ì‚¬ í†µê³¼ í›„ ì´ ìœ„ì¹˜ì— ê´‘ê³ ê°€ í‘œì‹œë©ë‹ˆë‹¤)",
        "ad_kr_title": "ì •ìˆ˜ê¸°ë Œíƒˆ ëŒ€ë°•!",
        "ad_kr_body1": "ì œíœ´ì¹´ë“œë©´ ì›” 0ì›ë¶€í„°!",
        "ad_kr_body2": "ì„¤ì¹˜ ë‹¹ì¼ ìµœëŒ€ 50ë§Œì› ì§€ì› + ì‚¬ì€í’ˆ ë“¬ë¿",
        "ad_kr_link": "ë‹¤ë‚˜ëˆ”ë Œíƒˆ.com ë°”ë¡œê°€ê¸°",
        "ad_kr_url": "https://www.ë‹¤ë‚˜ëˆ”ë Œíƒˆ.com",
        "mini_title": "ğŸ ë¯¸ë‹ˆê²Œì„: ì„ ì°©ìˆœ 20ëª… ì»¤í”¼ì¿ í° ë„ì „!",
        "mini_desc": "ìŠ¤í†±ì›Œì¹˜ë¥¼ **20.16ì´ˆ**ì— ë§ì¶”ë©´ ë‹¹ì²¨!\n\n- ê¸°ë³¸ 1íšŒ\n- **ë§í¬ ê³µìœ í•˜ê¸°**ë¥¼ ëˆ„ë¥´ë©´ 1íšŒ ì¶”ê°€\n- ëª©í‘œ êµ¬ê°„: **20.160 ~ 20.169ì´ˆ**",
        "mini_try_left": "ë‚¨ì€ ì‹œë„",
        "mini_closed": "ì´ë²¤íŠ¸ê°€ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. (ì„ ì°©ìˆœ 20ëª… ë§ˆê°)",
        "mini_dup": "ì´ë¯¸ ì°¸ì—¬í•œ ë²ˆí˜¸ì…ë‹ˆë‹¤. (ì¤‘ë³µ ì°¸ì—¬ ë¶ˆê°€)",
        "win_title": "ğŸ‰ ë‹¹ì²¨! ì •ë³´ ì…ë ¥",
        "win_name": "ì´ë¦„",
        "win_phone": "ì „í™”ë²ˆí˜¸",
        "win_consent": "ê°œì¸ì •ë³´ ìˆ˜ì§‘Â·ì´ìš© ë™ì˜(í•„ìˆ˜)",
        "win_consent_text": "ì´ë²¤íŠ¸ ê²½í’ˆ ë°œì†¡ì„ ìœ„í•´ ì´ë¦„/ì „í™”ë²ˆí˜¸ë¥¼ ìˆ˜ì§‘í•˜ë©°, ëª©ì  ë‹¬ì„± í›„ ì§€ì²´ ì—†ì´ íŒŒê¸°í•©ë‹ˆë‹¤. ë™ì˜ ê±°ë¶€ ì‹œ ì°¸ì—¬ê°€ ì œí•œë©ë‹ˆë‹¤.",
        "win_submit": "ì œì¶œ",
        "win_thanks": "ì ‘ìˆ˜ ì™„ë£Œ! ì»¤í”¼ì¿ í° ë°œì†¡ ëŒ€ìƒì— ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.",
        "sheet_fail": "êµ¬ê¸€ì‹œíŠ¸ ì—°ê²°ì´ ì•„ì§ ì•ˆ ë˜ì–´ ìˆì–´ìš”. (Secrets/requirements/ì‹œíŠ¸ ê³µìœ /íƒ­ ì´ë¦„ í™•ì¸ í•„ìš”)",
        "sheet_ok": "êµ¬ê¸€ì‹œíŠ¸ ì—°ê²° ì™„ë£Œ",
        "faq_title": "ğŸ” ê²€ìƒ‰/AI ë…¸ì¶œìš© ì •ë³´(FAQ)",
        "stopwatch_note": "START í›„ STOPì„ ëˆŒëŸ¬ ê¸°ë¡ì„ ì œì¶œí•˜ì„¸ìš”.",
        "mbti_test_12_title": "MBTI 12ë¬¸í•­ (ê° ì¶• 3ë¬¸í•­)",
        "mbti_test_16_title": "MBTI 16ë¬¸í•­ (ê° ì¶• 4ë¬¸í•­)",
        "mbti_test_help": "ê° ë¬¸í•­ì—ì„œ ë” ê°€ê¹Œìš´ ìª½ì„ ì„ íƒí•˜ì„¸ìš”.",
        "try_over": "ë‚¨ì€ ì‹œë„ê°€ ì—†ìŠµë‹ˆë‹¤.",
        "miss": "ì•„ì‰½ê²Œë„ ë¯¸ë‹¬/ì´ˆê³¼! ë‹¤ì‹œ ë„ì „í•´ë³´ì„¸ìš” ğŸ™‚",
    },
    "en": {
        "lang_pick": "Language",
        "title": "2026 Zodiac + MBTI + Saju + Today/Tomorrow",
        "subtitle": "Completely Free",
        "name": "Name (shown in result)",
        "birth": "Birth date",
        "year": "Year", "month": "Month", "day": "Day",
        "mbti_mode": "MBTI setting",
        "mbti_direct": "Pick directly",
        "mbti_12": "Quick test (12)",
        "mbti_16": "Full test (16)",
        "mbti_submit": "Submit & set MBTI",
        "go_result": "See result",
        "reset": "Start over",
        "share_link_btn": "ğŸ”— Share link",
        "share_link_hint": "Opens native share sheet when supported. Otherwise copies link.",
        "copy_done": "Link copied!",
        "tarot_btn": "Draw today's tarot",
        "tarot_title": "Today's Tarot",
        "sections": {"zodiac": "Zodiac", "mbti": "MBTI", "saju": "Saju", "today": "Today", "tomorrow": "Tomorrow", "year_all": "2026 Overall", "advice": "Combo advice"},
        "ad_placeholder": "AD (Ads appear here after approval)",
        "faq_title": "FAQ (for search visibility)",
        "stopwatch_note": "Press START then STOP to submit.",
        "mbti_test_12_title": "MBTI 12 Questions",
        "mbti_test_16_title": "MBTI 16 Questions",
        "mbti_test_help": "Pick the option closer to you.",
    },
    "ja": {
        "lang_pick": "è¨€èª",
        "title": "2026å¹´ å¹²æ”¯ + MBTI + å››æŸ± + ä»Šæ—¥/æ˜æ—¥",
        "subtitle": "å®Œå…¨ç„¡æ–™",
        "name": "åå‰ï¼ˆçµæœã«è¡¨ç¤ºï¼‰",
        "birth": "ç”Ÿå¹´æœˆæ—¥",
        "year": "å¹´", "month": "æœˆ", "day": "æ—¥",
        "mbti_mode": "MBTI è¨­å®š",
        "mbti_direct": "ç›´æ¥é¸æŠ",
        "mbti_12": "ç°¡æ˜“ãƒ†ã‚¹ãƒˆï¼ˆ12ï¼‰",
        "mbti_16": "è©³ç´°ãƒ†ã‚¹ãƒˆï¼ˆ16ï¼‰",
        "mbti_submit": "é€ä¿¡ã—ã¦ç¢ºå®š",
        "go_result": "çµæœã‚’è¦‹ã‚‹",
        "reset": "æœ€åˆã‹ã‚‰",
        "share_link_btn": "ğŸ”— ãƒªãƒ³ã‚¯å…±æœ‰",
        "share_link_hint": "å¯¾å¿œç«¯æœ«ã§ã¯å…±æœ‰ã‚·ãƒ¼ãƒˆãŒé–‹ãã¾ã™ã€‚ä¸å¯ãªã‚‰ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚",
        "copy_done": "ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼",
        "tarot_btn": "ä»Šæ—¥ã®ã‚¿ãƒ­ãƒƒãƒˆ",
        "tarot_title": "ä»Šæ—¥ã®ã‚¿ãƒ­ãƒƒãƒˆ",
        "sections": {"zodiac": "å¹²æ”¯é‹å‹¢", "mbti": "MBTIç‰¹å¾´", "saju": "å››æŸ±ã‚³ãƒ¡ãƒ³ãƒˆ", "today": "ä»Šæ—¥", "tomorrow": "æ˜æ—¥", "year_all": "2026å¹´ç·åˆ", "advice": "ã‚¢ãƒ‰ãƒã‚¤ã‚¹"},
        "ad_placeholder": "ADï¼ˆå¯©æŸ»é€šéå¾Œã“ã“ã«è¡¨ç¤ºï¼‰",
        "faq_title": "FAQï¼ˆæ¤œç´¢è¡¨ç¤ºã®å¼·åŒ–ï¼‰",
        "stopwatch_note": "STARTâ†’STOPã§è¨˜éŒ²ã‚’é€ä¿¡ã€‚",
        "mbti_test_12_title": "MBTI 12å•",
        "mbti_test_16_title": "MBTI 16å•",
        "mbti_test_help": "è¿‘ã„æ–¹ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚",
    },
    "zh": {
        "lang_pick": "è¯­è¨€",
        "title": "2026 ç”Ÿè‚– + MBTI + å››æŸ± + ä»Šæ—¥/æ˜æ—¥",
        "subtitle": "å®Œå…¨å…è´¹",
        "name": "å§“åï¼ˆç»“æœæ˜¾ç¤ºï¼‰",
        "birth": "å‡ºç”Ÿæ—¥æœŸ",
        "year": "å¹´", "month": "æœˆ", "day": "æ—¥",
        "mbti_mode": "MBTI è®¾ç½®",
        "mbti_direct": "ç›´æ¥é€‰æ‹©",
        "mbti_12": "å¿«é€Ÿæµ‹è¯•ï¼ˆ12ï¼‰",
        "mbti_16": "è¯¦ç»†æµ‹è¯•ï¼ˆ16ï¼‰",
        "mbti_submit": "æäº¤å¹¶ç¡®å®š",
        "go_result": "æŸ¥çœ‹ç»“æœ",
        "reset": "é‡æ–°å¼€å§‹",
        "share_link_btn": "ğŸ”— åˆ†äº«é“¾æ¥",
        "share_link_hint": "æ”¯æŒæ—¶æ‰“å¼€ç³»ç»Ÿåˆ†äº«ï¼Œä¸æ”¯æŒåˆ™å¤åˆ¶é“¾æ¥ã€‚",
        "copy_done": "å·²å¤åˆ¶ï¼",
        "tarot_btn": "æŠ½ä»Šæ—¥å¡”ç½—",
        "tarot_title": "ä»Šæ—¥å¡”ç½—",
        "sections": {"zodiac": "ç”Ÿè‚–è¿åŠ¿", "mbti": "MBTI ç‰¹ç‚¹", "saju": "å››æŸ±çŸ­è¯„", "today": "ä»Šå¤©", "tomorrow": "æ˜å¤©", "year_all": "2026 æ€»è¿", "advice": "ç»„åˆå»ºè®®"},
        "ad_placeholder": "ADï¼ˆå®¡æ ¸é€šè¿‡åæ˜¾ç¤ºï¼‰",
        "faq_title": "FAQï¼ˆæå‡æœç´¢å¯è§æ€§ï¼‰",
        "stopwatch_note": "æŒ‰ START å†æŒ‰ STOP æäº¤è®°å½•ã€‚",
        "mbti_test_12_title": "MBTI 12é¢˜",
        "mbti_test_16_title": "MBTI 16é¢˜",
        "mbti_test_help": "é€‰æ‹©æ›´ç¬¦åˆä½ çš„é€‰é¡¹ã€‚",
    },
    "ru": {
        "lang_pick": "Ğ¯Ğ·Ñ‹Ğº",
        "title": "2026: Ğ—Ğ¾Ğ´Ğ¸Ğ°Ğº + MBTI + Ğ¡Ğ°Ğ´Ğ¶Ñƒ + Ğ¡ĞµĞ³Ğ¾Ğ´Ğ½Ñ/Ğ—Ğ°Ğ²Ñ‚Ñ€Ğ°",
        "subtitle": "Ğ‘ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾",
        "name": "Ğ˜Ğ¼Ñ (Ğ² Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğµ)",
        "birth": "Ğ”Ğ°Ñ‚Ğ° Ñ€Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ñ",
        "year": "Ğ“Ğ¾Ğ´", "month": "ĞœĞµÑÑÑ†", "day": "Ğ”ĞµĞ½ÑŒ",
        "mbti_mode": "MBTI",
        "mbti_direct": "Ğ’Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ",
        "mbti_12": "Ğ¢ĞµÑÑ‚ (12)",
        "mbti_16": "Ğ¢ĞµÑÑ‚ (16)",
        "mbti_submit": "ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¸ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ",
        "go_result": "ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ",
        "reset": "Ğ¡Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ°",
        "share_link_btn": "ğŸ”— ĞŸĞ¾Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒÑÑ ÑÑÑ‹Ğ»ĞºĞ¾Ğ¹",
        "share_link_hint": "ĞÑ‚ĞºÑ€Ğ¾ĞµÑ‚ÑÑ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ (ĞµÑĞ»Ğ¸ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾). Ğ˜Ğ½Ğ°Ñ‡Ğµ ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ.",
        "copy_done": "Ğ¡ÑÑ‹Ğ»ĞºĞ° ÑĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ°!",
        "tarot_btn": "Ğ¢Ğ°Ñ€Ğ¾ Ğ´Ğ½Ñ",
        "tarot_title": "Ğ¢Ğ°Ñ€Ğ¾ Ğ´Ğ½Ñ",
        "sections": {"zodiac": "Ğ—Ğ¾Ğ´Ğ¸Ğ°Ğº", "mbti": "MBTI", "saju": "Ğ¡Ğ°Ğ´Ğ¶Ñƒ", "today": "Ğ¡ĞµĞ³Ğ¾Ğ´Ğ½Ñ", "tomorrow": "Ğ—Ğ°Ğ²Ñ‚Ñ€Ğ°", "year_all": "Ğ˜Ñ‚Ğ¾Ğ³ 2026", "advice": "Ğ¡Ğ¾Ğ²ĞµÑ‚"},
        "ad_placeholder": "AD",
        "faq_title": "FAQ",
        "stopwatch_note": "START Ğ·Ğ°Ñ‚ĞµĞ¼ STOP Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸.",
        "mbti_test_12_title": "MBTI 12 Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²",
        "mbti_test_16_title": "MBTI 16 Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²",
        "mbti_test_help": "Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ±Ğ¾Ğ»ĞµĞµ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğ¹ Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚.",
    },
    "hi": {
        "lang_pick": "à¤­à¤¾à¤·à¤¾",
        "title": "2026 à¤°à¤¾à¤¶à¤¿ + MBTI + à¤¸à¤¾à¤œà¥‚ + à¤†à¤œ/à¤•à¤²",
        "subtitle": "à¤ªà¥‚à¤°à¥€ à¤¤à¤°à¤¹ à¤®à¥à¤«à¤¼à¥à¤¤",
        "name": "à¤¨à¤¾à¤® (à¤ªà¤°à¤¿à¤£à¤¾à¤® à¤®à¥‡à¤‚ à¤¦à¤¿à¤–à¥‡à¤—à¤¾)",
        "birth": "à¤œà¤¨à¥à¤®à¤¤à¤¿à¤¥à¤¿",
        "year": "à¤µà¤°à¥à¤·", "month": "à¤®à¤¹à¥€à¤¨à¤¾", "day": "à¤¦à¤¿à¤¨",
        "mbti_mode": "MBTI",
        "mbti_direct": "à¤¸à¥€à¤§à¥‡ à¤šà¥à¤¨à¥‡à¤‚",
        "mbti_12": "à¤Ÿà¥‡à¤¸à¥à¤Ÿ (12)",
        "mbti_16": "à¤Ÿà¥‡à¤¸à¥à¤Ÿ (16)",
        "mbti_submit": "à¤¸à¤¬à¤®à¤¿à¤Ÿ à¤•à¤°à¥‡à¤‚",
        "go_result": "à¤ªà¤°à¤¿à¤£à¤¾à¤®",
        "reset": "à¤«à¤¿à¤° à¤¸à¥‡",
        "share_link_btn": "ğŸ”— à¤²à¤¿à¤‚à¤• à¤¶à¥‡à¤¯à¤°",
        "share_link_hint": "à¤¸à¤®à¤°à¥à¤¥à¤¿à¤¤ à¤¹à¥‹à¤¨à¥‡ à¤ªà¤° à¤¸à¤¿à¤¸à¥à¤Ÿà¤® à¤¶à¥‡à¤¯à¤° à¤–à¥à¤²à¥‡à¤—à¤¾, à¤¨à¤¹à¥€à¤‚ à¤¤à¥‹ à¤•à¥‰à¤ªà¥€ à¤¹à¥‹à¤—à¤¾à¥¤",
        "copy_done": "à¤²à¤¿à¤‚à¤• à¤•à¥‰à¤ªà¥€ à¤¹à¥‹ à¤—à¤¯à¤¾!",
        "tarot_btn": "à¤†à¤œ à¤•à¤¾ à¤Ÿà¥ˆà¤°à¥‹",
        "tarot_title": "à¤†à¤œ à¤•à¤¾ à¤Ÿà¥ˆà¤°à¥‹",
        "sections": {"zodiac": "à¤°à¤¾à¤¶à¤¿", "mbti": "MBTI", "saju": "à¤¸à¤¾à¤œà¥‚", "today": "à¤†à¤œ", "tomorrow": "à¤•à¤²", "year_all": "2026 à¤¸à¤®à¤—à¥à¤°", "advice": "à¤¸à¤²à¤¾à¤¹"},
        "ad_placeholder": "AD",
        "faq_title": "FAQ",
        "stopwatch_note": "START à¤«à¤¿à¤° STOP à¤¦à¤¬à¤¾à¤à¤à¥¤",
        "mbti_test_12_title": "MBTI 12 à¤ªà¥à¤°à¤¶à¥à¤¨",
        "mbti_test_16_title": "MBTI 16 à¤ªà¥à¤°à¤¶à¥à¤¨",
        "mbti_test_help": "à¤œà¥‹ à¤œà¤¼à¥à¤¯à¤¾à¤¦à¤¾ à¤«à¤¿à¤Ÿ à¤¹à¥‹ à¤µà¤¹à¥€ à¤šà¥à¤¨à¥‡à¤‚à¥¤",
    }
}

# =========================================================
# 4) Tarot with localized names
# =========================================================
TAROT = {
    "Wheel of Fortune": {
        "name": {"ko":"ìš´ëª…ì˜ ìˆ˜ë ˆë°”í€´","en":"Wheel of Fortune","ja":"é‹å‘½ã®è¼ª","zh":"å‘½è¿ä¹‹è½®","ru":"ĞšĞ¾Ğ»ĞµÑĞ¾ Ğ¤Ğ¾Ñ€Ñ‚ÑƒĞ½Ñ‹","hi":"à¤­à¤¾à¤—à¥à¤¯ à¤•à¤¾ à¤ªà¤¹à¤¿à¤¯à¤¾"},
        "meaning": {"ko":"ë³€í™”, ì „í™˜ì ","en":"Change, turning point","ja":"å¤‰åŒ–ãƒ»è»¢æ©Ÿ","zh":"å˜åŒ–ã€è½¬æœº","ru":"ĞŸĞµÑ€ĞµĞ¼ĞµĞ½Ñ‹, Ğ¿Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ñ‚","hi":"à¤¬à¤¦à¤²à¤¾à¤µ, à¤Ÿà¤°à¥à¤¨à¤¿à¤‚à¤— à¤ªà¥‰à¤‡à¤‚à¤Ÿ"},
    },
    "The Sun": {
        "name": {"ko":"íƒœì–‘","en":"The Sun","ja":"å¤ªé™½","zh":"å¤ªé˜³","ru":"Ğ¡Ğ¾Ğ»Ğ½Ñ†Ğµ","hi":"à¤¸à¥‚à¤°à¥à¤¯"},
        "meaning": {"ko":"í–‰ë³µ, ì„±ê³µ, ê¸ì • ì—ë„ˆì§€","en":"Happiness, success, positive energy","ja":"å¹¸ç¦ãƒ»æˆåŠŸãƒ»å‰å‘ã","zh":"å¹¸ç¦ã€æˆåŠŸã€ç§¯æ","ru":"Ğ¡Ñ‡Ğ°ÑÑ‚ÑŒĞµ, ÑƒÑĞ¿ĞµÑ…, Ğ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¸Ğ²","hi":"à¤–à¥à¤¶à¥€, à¤¸à¤«à¤²à¤¤à¤¾, à¤¸à¤•à¤¾à¤°à¤¾à¤¤à¥à¤®à¤•"},
    },
    "Strength": {
        "name": {"ko":"í˜","en":"Strength","ja":"åŠ›","zh":"åŠ›é‡","ru":"Ğ¡Ğ¸Ğ»Ğ°","hi":"à¤¶à¤•à¥à¤¤à¤¿"},
        "meaning": {"ko":"ìš©ê¸°, ì¸ë‚´","en":"Courage, patience","ja":"å‹‡æ°—ãƒ»å¿è€","zh":"å‹‡æ°”ã€è€å¿ƒ","ru":"Ğ¡Ğ¼ĞµĞ»Ğ¾ÑÑ‚ÑŒ, Ñ‚ĞµÑ€Ğ¿ĞµĞ½Ğ¸Ğµ","hi":"à¤¸à¤¾à¤¹à¤¸, à¤§à¥ˆà¤°à¥à¤¯"},
    },
    "The World": {
        "name": {"ko":"ì„¸ê³„","en":"The World","ja":"ä¸–ç•Œ","zh":"ä¸–ç•Œ","ru":"ĞœĞ¸Ñ€","hi":"à¤µà¤¿à¤¶à¥à¤µ"},
        "meaning": {"ko":"ì™„ì„±, ì„±ì·¨","en":"Completion, achievement","ja":"å®Œæˆãƒ»é”æˆ","zh":"å®Œæˆã€æˆå°±","ru":"Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ğµ, Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ğµ","hi":"à¤ªà¥‚à¤°à¥à¤£à¤¤à¤¾, à¤‰à¤ªà¤²à¤¬à¥à¤§à¤¿"},
    },
}

# =========================================================
# 5) Fortune content
# =========================================================
ZODIAC_ORDER = ["rat", "ox", "tiger", "rabbit", "dragon", "snake", "horse", "goat", "monkey", "rooster", "dog", "pig"]
ZODIAC_LABEL = {
    "rat":     {"ko": "ì¥ë ", "en": "Rat", "ja": "é¼ ", "zh": "é¼ ", "ru": "ĞšÑ€Ñ‹ÑĞ°", "hi": "à¤šà¥‚à¤¹à¤¾"},
    "ox":      {"ko": "ì†Œë ", "en": "Ox", "ja": "ç‰›", "zh": "ç‰›", "ru": "Ğ‘Ñ‹Ğº", "hi": "à¤¬à¥ˆà¤²"},
    "tiger":   {"ko": "í˜¸ë‘ì´ë ", "en": "Tiger", "ja": "è™", "zh": "è™", "ru": "Ğ¢Ğ¸Ğ³Ñ€", "hi": "à¤¬à¤¾à¤˜"},
    "rabbit":  {"ko": "í† ë¼ë ", "en": "Rabbit", "ja": "å…", "zh": "å…”", "ru": "ĞšÑ€Ğ¾Ğ»Ğ¸Ğº", "hi": "à¤–à¤°à¤—à¥‹à¤¶"},
    "dragon":  {"ko": "ìš©ë ", "en": "Dragon", "ja": "é¾", "zh": "é¾™", "ru": "Ğ”Ñ€Ğ°ĞºĞ¾Ğ½", "hi": "à¤¡à¥à¤°à¥ˆà¤—à¤¨"},
    "snake":   {"ko": "ë±€ë ", "en": "Snake", "ja": "è›‡", "zh": "è›‡", "ru": "Ğ—Ğ¼ĞµÑ", "hi": "à¤¸à¤¾à¤à¤ª"},
    "horse":   {"ko": "ë§ë ", "en": "Horse", "ja": "é¦¬", "zh": "é©¬", "ru": "Ğ›Ğ¾ÑˆĞ°Ğ´ÑŒ", "hi": "à¤˜à¥‹à¤¡à¤¼à¤¾"},
    "goat":    {"ko": "ì–‘ë ", "en": "Goat", "ja": "ç¾Š", "zh": "ç¾Š", "ru": "ĞšĞ¾Ğ·Ğ°", "hi": "à¤¬à¤•à¤°à¥€"},
    "monkey":  {"ko": "ì›ìˆ­ì´ë ", "en": "Monkey", "ja": "çŒ¿", "zh": "çŒ´", "ru": "ĞĞ±ĞµĞ·ÑŒÑĞ½Ğ°", "hi": "à¤¬à¤‚à¤¦à¤°"},
    "rooster": {"ko": "ë‹­ë ", "en": "Rooster", "ja": "é¶", "zh": "é¸¡", "ru": "ĞŸĞµÑ‚ÑƒÑ…", "hi": "à¤®à¥à¤°à¥à¤—à¤¾"},
    "dog":     {"ko": "ê°œë ", "en": "Dog", "ja": "çŠ¬", "zh": "ç‹—", "ru": "Ğ¡Ğ¾Ğ±Ğ°ĞºĞ°", "hi": "à¤•à¥à¤¤à¥à¤¤à¤¾"},
    "pig":     {"ko": "ë¼ì§€ë ", "en": "Pig", "ja": "çŒª", "zh": "çŒª", "ru": "Ğ¡Ğ²Ğ¸Ğ½ÑŒÑ", "hi": "à¤¸à¥‚à¤…à¤°"},
}

ZODIAC_TEXT = {
    "rat": {"ko":"ë¯¼ì²©í•œ íŒë‹¨ìœ¼ë¡œ ê¸°íšŒë¥¼ ì¡ëŠ” í•´.","en":"A year to seize chances with quick judgment.","ja":"ç´ æ—©ã„åˆ¤æ–­ã§ãƒãƒ£ãƒ³ã‚¹ã‚’æ´ã‚€å¹´ã€‚","zh":"ä»¥æ•æ·åˆ¤æ–­æŠ“ä½æœºä¼šçš„ä¸€å¹´ã€‚","ru":"Ğ“Ğ¾Ğ´, ĞºĞ¾Ğ³Ğ´Ğ° Ğ±Ñ‹ÑÑ‚Ñ€Ñ‹Ğµ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ Ğ´Ğ°ÑÑ‚ ÑˆĞ°Ğ½Ñ.","hi":"à¤¤à¥‡à¤œà¤¼ à¤¨à¤¿à¤°à¥à¤£à¤¯ à¤¸à¥‡ à¤…à¤µà¤¸à¤° à¤ªà¤•à¤¡à¤¼à¤¨à¥‡ à¤•à¤¾ à¤¸à¤¾à¤²à¥¤"},
    "ox": {"ko":"ê¾¸ì¤€í•¨ì˜ ê²°ì‹¤. ì•ˆì •ì  ì„±ì¥.","en":"Steady effort pays off; stable growth.","ja":"ç¶™ç¶šã®å®Ÿã‚Šã€‚å®‰å®šæˆé•·ã€‚","zh":"åšæŒæœ‰å›æŠ¥ï¼Œç¨³æ­¥æˆé•¿ã€‚","ru":"ĞŸĞ»Ğ¾Ğ´ ÑƒĞ¿Ğ¾Ñ€ÑÑ‚Ğ²Ğ°. Ğ¡Ñ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ Ñ€Ğ¾ÑÑ‚.","hi":"à¤²à¤—à¤¾à¤¤à¤¾à¤° à¤®à¥‡à¤¹à¤¨à¤¤ à¤•à¤¾ à¤«à¤², à¤¸à¥à¤¥à¤¿à¤° à¤ªà¥à¤°à¤—à¤¤à¤¿à¥¤"},
    "tiger": {"ko":"ë„ì „ê³¼ ì„±ê³¼. ë¦¬ë”ì‹­ì´ ë¹›ë‚¨.","en":"Challenges bring results; leadership shines.","ja":"æŒ‘æˆ¦ã¨æˆæœã€‚ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ãŒå…‰ã‚‹ã€‚","zh":"æŒ‘æˆ˜å¸¦æ¥æˆæœï¼Œé¢†å¯¼åŠ›é—ªè€€ã€‚","ru":"Ğ’Ñ‹Ğ·Ğ¾Ğ²Ñ‹ Ğ´Ğ°ÑÑ‚ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚. Ğ›Ğ¸Ğ´ĞµÑ€ÑÑ‚Ğ²Ğ¾ ÑÑ€ĞºĞ¾.","hi":"à¤šà¥à¤¨à¥Œà¤¤à¥€ à¤¸à¥‡ à¤ªà¤°à¤¿à¤£à¤¾à¤®, à¤¨à¥‡à¤¤à¥ƒà¤¤à¥à¤µ à¤šà¤®à¤•à¥‡à¤—à¤¾à¥¤"},
    "rabbit": {"ko":"ì‹ ì¤‘í•¨ì´ ìš´ì„ ì§€í‚´. ë¬´ë¦¬ ê¸ˆì§€.","en":"Caution protects luck; avoid overdoing.","ja":"æ…é‡ã•ãŒé‹ã‚’å®ˆã‚‹ã€‚ç„¡ç†ã¯ç¦ç‰©ã€‚","zh":"è°¨æ…å®ˆè¿ï¼Œé¿å…å‹‰å¼ºã€‚","ru":"ĞÑÑ‚Ğ¾Ñ€Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ ÑƒĞ´Ğ°Ñ‡Ñƒ. ĞĞµ Ğ¿ĞµÑ€ĞµĞ³Ñ€ÑƒĞ¶Ğ°Ğ¹Ñ‚ĞµÑÑŒ.","hi":"à¤¸à¤¾à¤µà¤§à¤¾à¤¨à¥€ à¤­à¤¾à¤—à¥à¤¯ à¤¬à¤šà¤¾à¤à¤—à¥€, à¤…à¤¤à¤¿ à¤¨ à¤•à¤°à¥‡à¤‚à¥¤"},
    "dragon": {"ko":"ìš´ê¸° ìƒìŠ¹. ì¸ì •/ìŠ¹ì§„ íë¦„.","en":"Rising fortune; recognition/promotion flow.","ja":"é‹æ°—ä¸Šæ˜‡ã€‚è©•ä¾¡ãƒ»æ˜‡é€²ã®æµã‚Œã€‚","zh":"è¿åŠ¿ä¸Šå‡ï¼Œè®¤å¯/å‡èŒæœ‰æœ›ã€‚","ru":"ĞŸĞ¾Ğ´ÑŠĞµĞ¼ ÑƒĞ´Ğ°Ñ‡Ğ¸. ĞŸÑ€Ğ¸Ğ·Ğ½Ğ°Ğ½Ğ¸Ğµ/Ğ¿Ğ¾Ğ²Ñ‹ÑˆĞµĞ½Ğ¸Ğµ.","hi":"à¤­à¤¾à¤—à¥à¤¯ à¤¬à¤¢à¤¼à¥‡à¤—à¤¾, à¤®à¤¾à¤¨-à¤¸à¤®à¥à¤®à¤¾à¤¨/à¤ªà¥à¤°à¤®à¥‹à¤¶à¤¨ à¤¸à¤‚à¤­à¤µà¥¤"},
    "snake": {"ko":"ì§ê°ì´ ëˆì´ ë¨. ì‹¤ì† ì±™ê¸°ê¸°.","en":"Intuition becomes money; focus on value.","ja":"ç›´æ„ŸãŒå®Ÿåˆ©ã«ã€‚å …å®Ÿã•ãŒå‰ã€‚","zh":"ç›´è§‰å¸¦æ¥æ”¶ç›Šï¼Œé‡è§†å®æƒ ã€‚","ru":"Ğ˜Ğ½Ñ‚ÑƒĞ¸Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¸Ğ½Ğ¾ÑĞ¸Ñ‚ Ğ´ĞµĞ½ÑŒĞ³Ğ¸. ĞŸÑ€Ğ°ĞºÑ‚Ğ¸Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ Ğ²Ğ°Ğ¶Ğ½Ğ°.","hi":"à¤…à¤‚à¤¤à¤°à¥à¤œà¥à¤à¤¾à¤¨ à¤§à¤¨ à¤¦à¥‡à¤—à¤¾, à¤µà¥à¤¯à¤¾à¤µà¤¹à¤¾à¤°à¤¿à¤• à¤°à¤¹à¥‡à¤‚à¥¤"},
    "horse": {"ko":"ì¶”ì§„ë ¥ ê°•í•¨. ê· í˜•ì´ í•µì‹¬.","en":"Strong drive; balance is the key.","ja":"æ¨é€²åŠ›ãŒå¼·ã„ã€‚ãƒãƒ©ãƒ³ã‚¹ãŒéµã€‚","zh":"è¡ŒåŠ¨åŠ›å¼ºï¼Œå…³é”®åœ¨å¹³è¡¡ã€‚","ru":"Ğ¡Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ½Ğ°Ğ¿Ğ¾Ñ€. Ğ’Ğ°Ğ¶ĞµĞ½ Ğ±Ğ°Ğ»Ğ°Ğ½Ñ.","hi":"à¤œà¥‹à¤°à¤¦à¤¾à¤° à¤—à¤¤à¤¿, à¤¸à¤‚à¤¤à¥à¤²à¤¨ à¤¸à¤¬à¤¸à¥‡ à¤œà¤°à¥‚à¤°à¥€à¥¤"},
    "goat": {"ko":"í¸ì•ˆí•¨ ì† ëˆìš´. ê°€ì¡±ìš´ ì¢‹ìŒ.","en":"Comfort with stable money luck; family luck is good.","ja":"ç©ã‚„ã‹ãªé‡‘é‹ã€‚å®¶æ—é‹ã‚‚è‰¯å¥½ã€‚","zh":"èˆ’é€‚ä¸­æœ‰è´¢è¿ï¼Œå®¶åº­è¿ä½³ã€‚","ru":"Ğ¡Ğ¿Ğ¾ĞºĞ¾Ğ¹Ğ½Ğ°Ñ Ğ´ĞµĞ½ĞµĞ¶Ğ½Ğ°Ñ ÑƒĞ´Ğ°Ñ‡Ğ°. Ğ¡ĞµĞ¼ÑŒÑ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚.","hi":"à¤¶à¤¾à¤‚à¤¤à¤¿ à¤®à¥‡à¤‚ à¤§à¤¨-à¤­à¤¾à¤—à¥à¤¯, à¤ªà¤°à¤¿à¤µà¤¾à¤° à¤•à¤¾ à¤¸à¤¾à¤¥à¥¤"},
    "monkey": {"ko":"ë³€í™”/ì¬ëŠ¥ ë°œíœ˜. ì°½ì˜ë ¥ ìƒìŠ¹.","en":"Change highlights your talent; creativity rises.","ja":"å¤‰åŒ–ã®ä¸­ã§æ‰èƒ½ç™ºæ®ã€‚å‰µé€ æ€§UPã€‚","zh":"å˜åŒ–ä¸­å‘æŒ¥æ‰åï¼Œåˆ›é€ åŠ›ä¸Šå‡ã€‚","ru":"ĞŸĞµÑ€ĞµĞ¼ĞµĞ½Ñ‹ Ñ€Ğ°ÑĞºÑ€Ñ‹Ğ²Ğ°ÑÑ‚ Ñ‚Ğ°Ğ»Ğ°Ğ½Ñ‚. Ğ¢Ğ²Ğ¾Ñ€Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ñ€Ğ°ÑÑ‚ĞµÑ‚.","hi":"à¤ªà¤°à¤¿à¤µà¤°à¥à¤¤à¤¨ à¤®à¥‡à¤‚ à¤ªà¥à¤°à¤¤à¤¿à¤­à¤¾ à¤šà¤®à¤•à¥‡à¤—à¥€, à¤°à¤šà¤¨à¤¾à¤¤à¥à¤®à¤•à¤¤à¤¾ à¤¬à¤¢à¤¼à¥‡à¤—à¥€à¥¤"},
    "rooster": {"ko":"ë…¸ë ¥ ê²°ì‹¤. í‰ê°€/ì¸ì • ìš´.","en":"Effort is rewarded; recognition luck.","ja":"åŠªåŠ›ãŒå®Ÿã‚‹ã€‚è©•ä¾¡ãƒ»æ‰¿èªé‹ã€‚","zh":"åŠªåŠ›æœ‰å›æŠ¥ï¼Œè¯„ä»·è®¤å¯è¿ä½³ã€‚","ru":"Ğ¢Ñ€ÑƒĞ´ Ğ²Ğ¾Ğ·Ğ½Ğ°Ğ³Ñ€Ğ°Ğ¶Ğ´Ğ°ĞµÑ‚ÑÑ. Ğ£Ğ´Ğ°Ñ‡Ğ° Ğ¿Ñ€Ğ¸Ğ·Ğ½Ğ°Ğ½Ğ¸Ñ.","hi":"à¤®à¥‡à¤¹à¤¨à¤¤ à¤•à¤¾ à¤«à¤², à¤ªà¥à¤°à¤¶à¤‚à¤¸à¤¾/à¤®à¤¾à¤¨ à¤®à¤¿à¤²à¥‡à¤—à¤¾à¥¤"},
    "dog": {"ko":"ê·€ì¸ìš´. ë„¤íŠ¸ì›Œí‚¹ì´ ê´€ê±´.","en":"Helpful people appear; networking matters.","ja":"è²´äººé‹ã€‚äººè„ˆãŒéµã€‚","zh":"è´µäººè¿å¼ºï¼Œäººè„‰å…³é”®ã€‚","ru":"ĞŸĞ¾Ğ¼Ğ¾Ñ‰Ğ½Ğ¸ĞºĞ¸ Ñ€ÑĞ´Ğ¾Ğ¼. Ğ’Ğ°Ğ¶Ğ½Ğ¾ Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ.","hi":"à¤¸à¤¹à¤¾à¤¯à¤• à¤²à¥‹à¤— à¤®à¤¿à¤²à¥‡à¤‚à¤—à¥‡, à¤¨à¥‡à¤Ÿà¤µà¤°à¥à¤•à¤¿à¤‚à¤— à¤œà¤°à¥‚à¤°à¥€à¥¤"},
    "pig": {"ko":"ì—¬ìœ ì™€ ì¬ë¬¼. ì¦ê¸°ë©° í™•ì¥.","en":"Ease and wealth; expand while enjoying.","ja":"ä½™è£•ã¨è²¡ã€‚æ¥½ã—ã¿ãªãŒã‚‰åºƒã’ã‚‹ã€‚","zh":"ä»å®¹ä¸è´¢å¯Œï¼Œäº«å—ä¸­æ‹“å±•ã€‚","ru":"Ğ”Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ğº Ğ¸ ÑĞ¿Ğ¾ĞºĞ¾Ğ¹ÑÑ‚Ğ²Ğ¸Ğµ. Ğ Ğ°ÑÑˆĞ¸Ñ€ÑĞ¹Ñ‚ĞµÑÑŒ Ñ Ñ€Ğ°Ğ´Ğ¾ÑÑ‚ÑŒÑ.","hi":"à¤¸à¥à¤•à¥‚à¤¨ à¤”à¤° à¤§à¤¨, à¤†à¤¨à¤‚à¤¦ à¤•à¥‡ à¤¸à¤¾à¤¥ à¤µà¤¿à¤¸à¥à¤¤à¤¾à¤°à¥¤"},
}

MBTI_DESC = {
    "INTJ":{"ko":"ì „ëµê°€ Â· ëª©í‘œì§€í–¥","en":"Strategist Â· goal-driven","ja":"æˆ¦ç•¥å®¶ Â· ç›®æ¨™å¿—å‘","zh":"æˆ˜ç•¥å®¶ Â· ç›®æ ‡å¯¼å‘","ru":"Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³ Â· Ñ†ĞµĞ»ĞµÑƒÑÑ‚Ñ€ĞµĞ¼Ğ»Ñ‘Ğ½Ğ½Ñ‹Ğ¹","hi":"à¤°à¤£à¤¨à¥€à¤¤à¤¿à¤• Â· à¤²à¤•à¥à¤·à¥à¤¯-à¤•à¥‡à¤¨à¥à¤¦à¥à¤°à¤¿à¤¤"},
    "INTP":{"ko":"ì•„ì´ë””ì–´ Â· ë¶„ì„ê°€","en":"Analyst Â· idea-driven","ja":"åˆ†æå®¶ Â· ç™ºæƒ³","zh":"åˆ†æè€… Â· æƒ³æ³•é©±åŠ¨","ru":"ĞĞ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸Ğº Â· Ğ¸Ğ´ĞµĞ¸","hi":"à¤µà¤¿à¤¶à¥à¤²à¥‡à¤·à¤• Â· à¤µà¤¿à¤šà¤¾à¤°-à¤ªà¥à¤°à¤§à¤¾à¤¨"},
    "ENTJ":{"ko":"ë¦¬ë” Â· ì¶”ì§„ë ¥","en":"Leader Â· decisive","ja":"æŒ‡æ®å®˜ Â· æ¨é€²åŠ›","zh":"é¢†å¯¼è€… Â· æœæ–­","ru":"Ğ›Ğ¸Ğ´ĞµÑ€ Â· Ñ€ĞµÑˆĞ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹","hi":"à¤¨à¥‡à¤¤à¤¾ Â· à¤¨à¤¿à¤°à¥à¤£à¤¾à¤¯à¤•"},
    "ENTP":{"ko":"í† ë¡ ê°€ Â· ë°œìƒê°€","en":"Inventor Â· debater","ja":"è¨è«–è€… Â· ç™ºæƒ³","zh":"è¾©è®ºå®¶ Â· åˆ›æ„","ru":"Ğ¡Ğ¿Ğ¾Ñ€Ñ‰Ğ¸Ğº Â· Ğ¸Ğ·Ğ¾Ğ±Ñ€ĞµÑ‚Ğ°Ñ‚ĞµĞ»ÑŒ","hi":"à¤¬à¤¹à¤¸à¤•à¤°à¥à¤¤à¤¾ Â· à¤¨à¤µà¥‹à¤¨à¥à¤®à¥‡à¤·à¥€"},
    "INFJ":{"ko":"í†µì°° Â· ì¡°ì–¸ì","en":"Insightful Â· advisor","ja":"æå”±è€… Â· æ´å¯Ÿ","zh":"æ´å¯Ÿè€… Â· é¡¾é—®","ru":"Ğ¡Ğ¾Ğ²ĞµÑ‚Ğ½Ğ¸Ğº Â· Ğ¸Ğ½Ñ‚ÑƒĞ¸Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹","hi":"à¤…à¤‚à¤¤à¤°à¥à¤¦à¥ƒà¤·à¥à¤Ÿà¤¿ Â· à¤¸à¤²à¤¾à¤¹à¤•à¤¾à¤°"},
    "INFP":{"ko":"ê°€ì¹˜ Â· ê°ì„±","en":"Values Â· empathic","ja":"ä»²ä»‹è€… Â· ä¾¡å€¤è¦³","zh":"è°ƒåœè€… Â· å…±æƒ…","ru":"Ğ˜Ğ´ĞµĞ°Ğ»Ğ¸ÑÑ‚ Â· ÑĞ¼Ğ¿Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ñ‹Ğ¹","hi":"à¤®à¥‚à¤²à¥à¤¯ Â· à¤¸à¤¹à¤¾à¤¨à¥à¤­à¥‚à¤¤à¤¿à¤¶à¥€à¤²"},
    "ENFJ":{"ko":"ì¡°ìœ¨ Â· ë¦¬ë”","en":"Coordinator Â· leader","ja":"ä¸»äººå…¬ Â· èª¿æ•´","zh":"ä¸»äººå…¬ Â· åè°ƒ","ru":"ĞĞ°ÑÑ‚Ğ°Ğ²Ğ½Ğ¸Ğº Â· Ğ»Ğ¸Ğ´ĞµÑ€","hi":"à¤¸à¤®à¤¨à¥à¤µà¤¯à¤• Â· à¤¨à¥‡à¤¤à¤¾"},
    "ENFP":{"ko":"ì—´ì • Â· ì•„ì´ë””ì–´","en":"Energetic Â· creative","ja":"é‹å‹•å®¶ Â· æƒ…ç†±","zh":"ç«é€‰è€… Â· çƒ­æƒ…","ru":"Ğ­Ğ½Ñ‚ÑƒĞ·Ğ¸Ğ°ÑÑ‚ Â· Ñ‚Ğ²Ğ¾Ñ€Ñ‡ĞµÑĞºĞ¸Ğ¹","hi":"à¤‰à¤¤à¥à¤¸à¤¾à¤¹à¥€ Â· à¤°à¤šà¤¨à¤¾à¤¤à¥à¤®à¤•"},
    "ISTJ":{"ko":"ì›ì¹™ Â· ì±…ì„","en":"Responsible Â· orderly","ja":"ç®¡ç†è€… Â· è²¬ä»»","zh":"ç‰©æµå¸ˆ Â· è´Ÿè´£","ru":"Ğ˜ÑĞ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒ Â· Ğ¿Ğ¾Ñ€ÑĞ´Ğ¾Ğº","hi":"à¤œà¤¿à¤®à¥à¤®à¥‡à¤¦à¤¾à¤° Â· à¤µà¥à¤¯à¤µà¤¸à¥à¤¥à¤¿à¤¤"},
    "ISFJ":{"ko":"ë°°ë ¤ Â· í—Œì‹ ","en":"Caring Â· supportive","ja":"æ“è­·è€… Â· é…æ…®","zh":"å®ˆå«è€… Â· ä½“è´´","ru":"Ğ—Ğ°Ñ‰Ğ¸Ñ‚Ğ½Ğ¸Ğº Â· Ğ·Ğ°Ğ±Ğ¾Ñ‚Ğ°","hi":"à¤¦à¥‡à¤–à¤­à¤¾à¤² Â· à¤¸à¤¹à¤¯à¥‹à¤—à¥€"},
    "ESTJ":{"ko":"ê´€ë¦¬ì Â· í˜„ì‹¤/ì„±ê³¼","en":"Executor Â· practical","ja":"å¹¹éƒ¨ Â· ç¾å®Ÿ","zh":"æ€»ç»ç† Â· ç°å®","ru":"ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€ Â· Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸Ğº","hi":"à¤ªà¥à¤°à¤¬à¤‚à¤§à¤• Â· à¤µà¥à¤¯à¤¾à¤µà¤¹à¤¾à¤°à¤¿à¤•"},
    "ESFJ":{"ko":"ë¶„ìœ„ê¸° Â· ì¼€ì–´","en":"Warm Â· community","ja":"é ˜äº‹ Â· æ€ã„ã‚„ã‚Š","zh":"æ‰§æ”¿å®˜ Â· å…³æ€€","ru":"ĞšĞ¾Ğ½ÑÑƒĞ» Â· Ğ·Ğ°Ğ±Ğ¾Ñ‚Ğ°","hi":"à¤®à¤¿à¤²à¤¨à¤¸à¤¾à¤° Â· à¤¦à¥‡à¤–à¤­à¤¾à¤²"},
    "ISTP":{"ko":"ì¥ì¸ Â· ë¬¸ì œí•´ê²°","en":"Tinkerer Â· solver","ja":"å·¨åŒ  Â· è§£æ±º","zh":"é‰´èµå®¶ Â· è§£å†³","ru":"ĞœĞ°ÑÑ‚ĞµÑ€ Â· Ñ€ĞµÑˆĞ°Ñ‚ĞµĞ»ÑŒ","hi":"à¤•à¥à¤¶à¤² Â· à¤¸à¤®à¤¸à¥à¤¯à¤¾-à¤¸à¤®à¤¾à¤§à¤¾à¤¨"},
    "ISFP":{"ko":"ê°ì„± Â· íëŸ¬","en":"Gentle Â· artistic","ja":"å†’é™ºå®¶ Â· æ„Ÿæ€§","zh":"æ¢é™©å®¶ Â· æ„Ÿæ€§","ru":"Ğ¥ÑƒĞ´Ğ¾Ğ¶Ğ½Ğ¸Ğº Â· Ğ¼ÑĞ³ĞºĞ¸Ğ¹","hi":"à¤•à¤²à¤¾à¤¤à¥à¤®à¤• Â· à¤¸à¤‚à¤µà¥‡à¤¦à¤¨à¤¶à¥€à¤²"},
    "ESTP":{"ko":"ëª¨í—˜ Â· ì‹¤í–‰","en":"Action Â· risk-taking","ja":"èµ·æ¥­å®¶ Â· å®Ÿè¡Œ","zh":"ä¼ä¸šå®¶ Â· æ‰§è¡Œ","ru":"Ğ”ĞµĞ»ĞµÑ† Â· Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ","hi":"à¤¸à¤¾à¤¹à¤¸à¥€ Â· à¤•à¤¾à¤°à¥à¤¯à¤¶à¥€à¤²"},
    "ESFP":{"ko":"ì‚¬êµ Â· ì¦ê±°ì›€","en":"Fun Â· social","ja":"ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒŠãƒ¼ Â· ç¤¾äº¤","zh":"è¡¨æ¼”è€… Â· ç¤¾äº¤","ru":"ĞÑ€Ñ‚Ğ¸ÑÑ‚ Â· Ğ¾Ğ±Ñ‰Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹","hi":"à¤®à¤¸à¥à¤¤à¥€ Â· à¤¸à¤¾à¤®à¤¾à¤œà¤¿à¤•"},
}

SAJU_MSGS = {
    "ko":[
        "ì˜¤í–‰ ê· í˜• â†’ ë¬´ë¦¬í•˜ì§€ ì•Šìœ¼ë©´ ì „ë°˜ì ìœ¼ë¡œ ëŒ€ê¸¸!",
        "ëª©(æœ¨) ê¸°ìš´ â†’ ì„±ì¥ê³¼ í™•ì¥ì˜ í•´!",
        "í™”(ç«) ê¸°ìš´ â†’ ì—´ì •ì´ ì„±ê³¼ë¡œ ì—°ê²°!",
        "í† (åœŸ) ê¸°ìš´ â†’ ì•ˆì •ê³¼ ì¬ë¬¼ìš´ ê°•í™”!",
        "ê¸ˆ(é‡‘) ê¸°ìš´ â†’ ê²°ë‹¨ì´ ìš´ì„ ì—°ë‹¤!",
        "ìˆ˜(æ°´) ê¸°ìš´ â†’ íë¦„ì„ íƒ€ë©´ ê¸°íšŒê°€ ì˜¨ë‹¤!",
    ],
    "en":[
        "Balanced elements â†’ steady luck if you don't overdo.",
        "Wood â†’ a year of growth and expansion.",
        "Fire â†’ passion turns into results.",
        "Earth â†’ stability and wealth strengthen.",
        "Metal â†’ decisive moves open luck.",
        "Water â†’ go with the flow to find chances.",
    ],
    "ja":[
        "äº”è¡Œãƒãƒ©ãƒ³ã‚¹â†’ç„¡ç†ã‚’ã—ãªã‘ã‚Œã°å…¨ä½“é‹â—ã€‚",
        "æœ¨â†’æˆé•·ã¨æ‹¡å¤§ã®å¹´ã€‚",
        "ç«â†’æƒ…ç†±ãŒæˆæœã«ç¹‹ãŒã‚‹ã€‚",
        "åœŸâ†’å®‰å®šã¨é‡‘é‹ãŒå¼·ã¾ã‚‹ã€‚",
        "é‡‘â†’æ±ºæ–­ãŒé‹ã‚’é–‹ãã€‚",
        "æ°´â†’æµã‚Œã«ä¹—ã‚‹ã¨å¥½æ©Ÿã€‚",
    ],
    "zh":[
        "äº”è¡Œå‡è¡¡â†’ä¸è¿‡åº¦ç”¨åŠ›åˆ™æ•´ä½“å¤§å‰ã€‚",
        "æœ¨â†’æˆé•¿ä¸æ‰©å¼ çš„ä¸€å¹´ã€‚",
        "ç«â†’çƒ­æƒ…è½¬åŒ–ä¸ºæˆæœã€‚",
        "åœŸâ†’ç¨³å®šä¸è´¢è¿å¢å¼ºã€‚",
        "é‡‘â†’å†³æ–­æ‰“å¼€å¥½è¿ã€‚",
        "æ°´â†’é¡ºåŠ¿è€Œä¸ºå¾—æœºä¼šã€‚",
    ],
    "ru":[
        "Ğ‘Ğ°Ğ»Ğ°Ğ½Ñ ÑÑ‚Ğ¸Ñ…Ğ¸Ğ¹ â†’ ÑƒĞ´Ğ°Ñ‡Ğ° ÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ğ°, ĞµÑĞ»Ğ¸ Ğ½Ğµ Ğ¿ĞµÑ€ĞµĞ³Ñ€ÑƒĞ¶Ğ°Ñ‚ÑŒÑÑ.",
        "Ğ”ĞµÑ€ĞµĞ²Ğ¾ â†’ Ñ€Ğ¾ÑÑ‚ Ğ¸ Ñ€Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ¸Ğµ.",
        "ĞĞ³Ğ¾Ğ½ÑŒ â†’ ÑÑ‚Ñ€Ğ°ÑÑ‚ÑŒ Ğ¿Ñ€ĞµĞ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ÑÑ Ğ² Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚.",
        "Ğ—ĞµĞ¼Ğ»Ñ â†’ ÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ¸ Ğ´ĞµĞ½ÑŒĞ³Ğ¸ ÑƒÑĞ¸Ğ»Ğ¸Ğ²Ğ°ÑÑ‚ÑÑ.",
        "ĞœĞµÑ‚Ğ°Ğ»Ğ» â†’ Ñ€ĞµÑˆĞ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ ÑƒĞ´Ğ°Ñ‡Ñƒ.",
        "Ğ’Ğ¾Ğ´Ğ° â†’ Ğ¿Ğ¾Ğ¹Ğ¼Ğ°Ğ¹Ñ‚Ğµ Ğ¿Ğ¾Ñ‚Ğ¾Ğº â€” Ğ¿Ñ€Ğ¸Ğ´ÑƒÑ‚ ÑˆĞ°Ğ½ÑÑ‹.",
    ],
    "hi":[
        "à¤ªà¤‚à¤šà¤¤à¤¤à¥à¤µ à¤¸à¤‚à¤¤à¥à¤²à¤¨ â†’ à¤…à¤¤à¤¿ à¤¨ à¤•à¤°à¥‡à¤‚ à¤¤à¥‹ à¤¸à¤®à¤—à¥à¤° à¤­à¤¾à¤—à¥à¤¯ à¤…à¤šà¥à¤›à¤¾à¥¤",
        "à¤•à¤¾à¤·à¥à¤  â†’ à¤µà¤¿à¤•à¤¾à¤¸ à¤”à¤° à¤µà¤¿à¤¸à¥à¤¤à¤¾à¤° à¤•à¤¾ à¤µà¤°à¥à¤·à¥¤",
        "à¤…à¤—à¥à¤¨à¤¿ â†’ à¤œà¥à¤¨à¥‚à¤¨ à¤ªà¤°à¤¿à¤£à¤¾à¤® à¤¦à¥‡à¤—à¤¾à¥¤",
        "à¤ªà¥ƒà¤¥à¥à¤µà¥€ â†’ à¤¸à¥à¤¥à¤¿à¤°à¤¤à¤¾ à¤”à¤° à¤§à¤¨-à¤­à¤¾à¤—à¥à¤¯ à¤¬à¤¢à¤¼à¥‡à¤—à¤¾à¥¤",
        "à¤§à¤¾à¤¤à¥ â†’ à¤¨à¤¿à¤°à¥à¤£à¤¯ à¤•à¥à¤·à¤®à¤¤à¤¾ à¤­à¤¾à¤—à¥à¤¯ à¤–à¥‹à¤²à¥‡à¤—à¥€à¥¤",
        "à¤œà¤² â†’ à¤ªà¥à¤°à¤µà¤¾à¤¹ à¤•à¥‡ à¤¸à¤¾à¤¥ à¤šà¤²à¥‡à¤‚, à¤®à¥Œà¤•à¥‡ à¤®à¤¿à¤²à¥‡à¤‚à¤—à¥‡à¥¤",
    ],
}

DAILY = {
    "ko":[
        "ì •ë¦¬í•˜ë©´ ìš´ì´ ì—´ë¦½ë‹ˆë‹¤.",
        "ì‚¬ëŒ ìš´ì´ ê°•í•´ìš”. ì˜¤ëŠ˜ì€ ëŒ€í™”ê°€ ì—´ì‡ !",
        "ì‘ì€ ê¸°íšŒê°€ ì»¤ì§‘ë‹ˆë‹¤. ì¦‰í¥ë³´ë‹¤ ê³„íš!",
        "ì¶©ë™êµ¬ë§¤ë§Œ ë§‰ìœ¼ë©´ ì¬ë¬¼ìš´ì´ ë¶™ì–´ìš”.",
        "ì§‘ì¤‘ë ¥ì´ ì¢‹ì•„ìš”. ì§§ê²Œ ëª°ì…í•˜ë©´ ì„±ê³¼!",
        "ë¬´ë¦¬í•œ ì¼ì •ì€ ê¸ˆë¬¼. ì»¨ë””ì…˜ ê´€ë¦¬ê°€ 1ìˆœìœ„!",
    ],
    "en":[
        "Tidying up opens luck.",
        "People luck is strongâ€”talk is the key.",
        "Small chances growâ€”plan over impulse.",
        "Avoid impulse buys to keep money luck.",
        "Short deep focus brings results.",
        "Don't overbookâ€”health first.",
    ],
    "ja":[
        "ç‰‡ä»˜ã‘ã‚‹ã¨é‹ãŒé–‹ãã€‚",
        "äººé‹ãŒå¼·ã„ã€‚ä¼šè©±ãŒéµã€‚",
        "å°ã•ãªãƒãƒ£ãƒ³ã‚¹ãŒå¤§ãããªã‚‹ã€‚è¨ˆç”»å„ªå…ˆã€‚",
        "è¡å‹•è²·ã„ã‚’æŠ‘ãˆã‚‹ã¨é‡‘é‹UPã€‚",
        "çŸ­ã„é›†ä¸­ã§æˆæœãŒå‡ºã‚‹ã€‚",
        "è©°ã‚è¾¼ã¿ã™ãæ³¨æ„ã€‚ä½“èª¿æœ€å„ªå…ˆã€‚",
    ],
    "zh":[
        "æ•´ç†èƒ½å¸¦æ¥å¥½è¿ã€‚",
        "äººé™…è¿å¼ºï¼Œæ²Ÿé€šæ˜¯å…³é”®ã€‚",
        "å°æœºä¼šä¼šå˜å¤§ï¼Œè®¡åˆ’èƒœè¿‡å†²åŠ¨ã€‚",
        "æ§åˆ¶å†²åŠ¨æ¶ˆè´¹ï¼Œè´¢è¿æ›´ç¨³ã€‚",
        "çŸ­æ—¶é—´ä¸“æ³¨æ›´æœ‰æ•ˆã€‚",
        "åˆ«æ’å¤ªæ»¡ï¼Œå¥åº·ä¼˜å…ˆã€‚",
    ],
    "ru":[
        "ĞŸĞ¾Ñ€ÑĞ´Ğ¾Ğº Ğ²Ğ¾ĞºÑ€ÑƒĞ³ â€” ÑƒĞ´Ğ°Ñ‡Ğ° Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸.",
        "Ğ¡Ğ¸Ğ»ÑŒĞ½Ğ°Ñ ÑƒĞ´Ğ°Ñ‡Ğ° Ñ‡ĞµÑ€ĞµĞ· Ğ»ÑĞ´ĞµĞ¹: Ñ€Ğ°Ğ·Ğ³Ğ¾Ğ²Ğ¾Ñ€ Ñ€ĞµÑˆĞ°ĞµÑ‚.",
        "ĞœĞ°Ğ»Ñ‹Ğ¹ ÑˆĞ°Ğ½Ñ Ğ²Ñ‹Ñ€Ğ°ÑÑ‚ĞµÑ‚ â€” Ğ¿Ğ»Ğ°Ğ½ Ğ²Ğ°Ğ¶Ğ½ĞµĞµ Ğ¸Ğ¼Ğ¿ÑƒĞ»ÑŒÑĞ°.",
        "ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ Ğ¸Ğ¼Ğ¿ÑƒĞ»ÑŒÑĞ½Ñ‹Ğµ Ğ¿Ğ¾ĞºÑƒĞ¿ĞºĞ¸ â€” Ğ´ĞµĞ½ÑŒĞ³Ğ¸ Ğ¾ÑÑ‚Ğ°Ğ½ÑƒÑ‚ÑÑ.",
        "ĞšĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¸Ğ¹ Ñ„Ğ¾ĞºÑƒÑ Ğ´Ğ°Ñ‘Ñ‚ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚.",
        "ĞĞµ Ğ¿ĞµÑ€ĞµĞ³Ñ€ÑƒĞ¶Ğ°Ğ¹Ñ‚ĞµÑÑŒ â€” Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒĞµ Ğ²Ğ°Ğ¶Ğ½ĞµĞµ.",
    ],
    "hi":[
        "à¤¸à¤«à¤¾à¤ˆ/à¤µà¥à¤¯à¤µà¤¸à¥à¤¥à¤¾ à¤¸à¥‡ à¤­à¤¾à¤—à¥à¤¯ à¤–à¥à¤²à¤¤à¤¾ à¤¹à¥ˆà¥¤",
        "à¤²à¥‹à¤—à¥‹à¤‚ à¤¸à¥‡ à¤²à¤¾à¤­â€”à¤†à¤œ à¤¬à¤¾à¤¤à¤šà¥€à¤¤ à¤®à¤¹à¤¤à¥à¤µà¤ªà¥‚à¤°à¥à¤£à¥¤",
        "à¤›à¥‹à¤Ÿà¤¾ à¤®à¥Œà¤•à¤¾ à¤¬à¤¡à¤¼à¤¾ à¤¬à¤¨à¥‡à¤—à¤¾â€”à¤¯à¥‹à¤œà¤¨à¤¾ à¤°à¤–à¥‡à¤‚à¥¤",
        "à¤†à¤µà¥‡à¤— à¤®à¥‡à¤‚ à¤–à¤°à¥€à¤¦à¤¾à¤°à¥€ à¤°à¥‹à¤•à¥‡à¤‚, à¤§à¤¨-à¤­à¤¾à¤—à¥à¤¯ à¤¬à¤¢à¤¼à¥‡à¤—à¤¾à¥¤",
        "à¤•à¤® à¤¸à¤®à¤¯ à¤•à¤¾ à¤—à¤¹à¤°à¤¾ à¤«à¥‹à¤•à¤¸ à¤¬à¥‡à¤¹à¤¤à¤° à¤¹à¥ˆà¥¤",
        "à¤…à¤§à¤¿à¤• à¤¶à¥‡à¤¡à¥à¤¯à¥‚à¤² à¤¨ à¤•à¤°à¥‡à¤‚â€”à¤¸à¥à¤µà¤¾à¤¸à¥à¤¥à¥à¤¯ à¤ªà¤¹à¤²à¥‡à¥¤",
    ],
}

YEAR_ALL = {
    "ko":[
        "ê¾¸ì¤€í•¨ì´ ëŒ€ë°•ì„ ë§Œë“­ë‹ˆë‹¤. ì‘ì€ ìŠµê´€ì´ í° ê²°ê³¼ë¡œ!",
        "ì‚¬ëŒê³¼ ì¸ì—°ì´ í”¼ì–´ë‚˜ëŠ” í•´. ì†Œê°œ/í˜‘ì—…ìš´ ìƒìŠ¹!",
        "ë„ì „í•˜ë©´ ì„±ê³¼ê°€ ë”°ë¼ì˜µë‹ˆë‹¤. ë‹¨, ë¬´ë¦¬í•œ ë² íŒ…ì€ ê¸ˆì§€!",
        "ì •ë¦¬Â·ì •ëˆì´ ìš´ì„ í‚¤ì›ë‹ˆë‹¤. ë¯¸ë¤„ë‘” ì¼ì„ ì •ë¦¬í•´ë³´ì„¸ìš”.",
    ],
    "en":[
        "Consistency creates big luckâ€”small habits matter.",
        "Connections bloomâ€”collaboration opportunities rise.",
        "Challenges pay off, but avoid reckless bets.",
        "Organizing your life boosts your fortune.",
    ],
    "ja":[
        "ç¶™ç¶šãŒå¤§ããªé‹ã‚’ä½œã‚‹ã€‚å°ã•ãªç¿’æ…£ãŒå¤§æˆæœã¸ã€‚",
        "äººè„ˆãŒåºƒãŒã‚‹å¹´ã€‚ç´¹ä»‹ãƒ»å”æ¥­é‹UPã€‚",
        "æŒ‘æˆ¦ã¯æˆæœã«ã€‚ãŸã ã—ç„¡ç†ãªè³­ã‘ã¯NGã€‚",
        "æ•´ç†æ•´é “ã§é‹æ°—ãŒä¸ŠãŒã‚‹ã€‚å¾Œå›ã—ã‚’ç‰‡ä»˜ã‘ã¦ã€‚",
    ],
    "zh":[
        "åšæŒå¸¦æ¥å¤§å¥½è¿ï¼Œå°ä¹ æƒ¯æˆå¤§ç»“æœã€‚",
        "äººè„‰å¼€èŠ±ï¼Œä»‹ç»/åˆä½œæœºä¼šå¢å¤šã€‚",
        "æŒ‘æˆ˜æœ‰å›æŠ¥ï¼Œä½†é¿å…å†’é™©ä¸‹æ³¨ã€‚",
        "æ•´ç†ç”Ÿæ´»èƒ½æå‡è¿åŠ¿ï¼Œæ¸…æ‰æ‹–å»¶ã€‚",
    ],
    "ru":[
        "ĞŸĞ¾ÑÑ‚Ğ¾ÑĞ½ÑÑ‚Ğ²Ğ¾ ÑĞ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚ ÑƒĞ´Ğ°Ñ‡Ñƒ: Ğ¼Ğ°Ğ»ĞµĞ½ÑŒĞºĞ¸Ğµ Ğ¿Ñ€Ğ¸Ğ²Ñ‹Ñ‡ĞºĞ¸ â€” Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ğµ Ğ¸Ñ‚Ğ¾Ğ³Ğ¸.",
        "Ğ¡Ğ²ÑĞ·Ğ¸ Ñ€Ğ°ÑÑ†Ğ²ĞµÑ‚Ğ°ÑÑ‚: Ñ€Ğ¾ÑÑ‚ ÑĞ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ°.",
        "Ğ’Ñ‹Ğ·Ğ¾Ğ²Ñ‹ Ğ¾ĞºÑƒĞ¿Ğ°ÑÑ‚ÑÑ, Ğ½Ğ¾ Ğ¸Ğ·Ğ±ĞµĞ³Ğ°Ğ¹Ñ‚Ğµ Ñ€Ğ¸ÑĞºĞ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ñ… ÑÑ‚Ğ°Ğ²Ğ¾Ğº.",
        "ĞŸĞ¾Ñ€ÑĞ´Ğ¾Ğº Ğ² Ğ´ĞµĞ»Ğ°Ñ… ÑƒÑĞ¸Ğ»Ğ¸Ğ²Ğ°ĞµÑ‚ ÑƒĞ´Ğ°Ñ‡Ñƒ â€” Ğ·Ğ°ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ Ñ…Ğ²Ğ¾ÑÑ‚Ñ‹.",
    ],
    "hi":[
        "à¤²à¤—à¤¾à¤¤à¤¾à¤° à¤ªà¥à¤°à¤¯à¤¾à¤¸ à¤¸à¥‡ à¤¬à¤¡à¤¼à¤¾ à¤­à¤¾à¤—à¥à¤¯ à¤¬à¤¨à¤¤à¤¾ à¤¹à¥ˆâ€”à¤›à¥‹à¤Ÿà¥€ à¤†à¤¦à¤¤à¥‡à¤‚ à¤¬à¤¡à¤¼à¤¾ à¤ªà¤°à¤¿à¤£à¤¾à¤®à¥¤",
        "à¤°à¤¿à¤¶à¥à¤¤à¥‡/à¤¨à¥‡à¤Ÿà¤µà¤°à¥à¤• à¤¬à¤¢à¤¼à¥‡à¤‚à¤—à¥‡â€”à¤¸à¤¹à¤¯à¥‹à¤— à¤•à¥‡ à¤®à¥Œà¤•à¥‡à¥¤",
        "à¤šà¥à¤¨à¥Œà¤¤à¥€ à¤•à¤¾ à¤«à¤² à¤®à¤¿à¤²à¥‡à¤—à¤¾, à¤ªà¤° à¤œà¥‹à¤–à¤¿à¤® à¤­à¤°à¥‡ à¤¦à¤¾à¤‚à¤µ à¤¸à¥‡ à¤¬à¤šà¥‡à¤‚à¥¤",
        "à¤µà¥à¤¯à¤µà¤¸à¥à¤¥à¤¾/à¤¸à¤‚à¤—à¤ à¤¨ à¤¸à¥‡ à¤­à¤¾à¤—à¥à¤¯ à¤¬à¤¢à¤¼à¥‡à¤—à¤¾â€”à¤²à¤Ÿà¤•à¥‡ à¤•à¤¾à¤® à¤¨à¤¿à¤ªà¤Ÿà¤¾à¤à¤à¥¤",
    ],
}

# =========================================================
# 6) MBTI 12/16 Questions
# =========================================================
MBTI_Q_12 = [
    ("EI", {"ko":"ì‚¬ëŒë“¤ê³¼ ìˆì„ ë•Œ ì—ë„ˆì§€ê°€ ë” ìƒê¸´ë‹¤", "en":"I gain energy around people", "ja":"äººã¨ã„ã‚‹ã¨å…ƒæ°—ã«ãªã‚‹", "zh":"å’Œäººç›¸å¤„æ›´æœ‰èƒ½é‡", "ru":"Ğ¡ Ğ»ÑĞ´ÑŒĞ¼Ğ¸ ÑĞ½ĞµÑ€Ğ³Ğ¸Ğ¸ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ", "hi":"à¤²à¥‹à¤—à¥‹à¤‚ à¤•à¥‡ à¤¸à¤¾à¤¥ à¤Šà¤°à¥à¤œà¤¾ à¤¬à¤¢à¤¼à¤¤à¥€ à¤¹à¥ˆ"},
          {"ko":"í˜¼ì ìˆì„ ë•Œ ì—ë„ˆì§€ê°€ ë” ìƒê¸´ë‹¤", "en":"I gain energy alone", "ja":"ä¸€äººã ã¨å…ƒæ°—ã«ãªã‚‹", "zh":"ç‹¬å¤„æ›´æœ‰èƒ½é‡", "ru":"Ğ’ Ğ¾Ğ´Ğ¸Ğ½Ğ¾Ñ‡ĞµÑÑ‚Ğ²Ğµ ÑĞ½ĞµÑ€Ğ³Ğ¸Ğ¸ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ", "hi":"à¤…à¤•à¥‡à¤²à¥‡ à¤°à¤¹à¤•à¤° à¤Šà¤°à¥à¤œà¤¾ à¤¬à¤¢à¤¼à¤¤à¥€ à¤¹à¥ˆ"}),
    ("SN", {"ko":"í˜„ì‹¤ì ì¸ ì •ë³´ê°€ í¸í•˜ë‹¤", "en":"I prefer concrete information", "ja":"å…·ä½“çš„ãªæƒ…å ±ãŒå¥½ã", "zh":"æ›´å–œæ¬¢å…·ä½“ä¿¡æ¯", "ru":"ĞŸÑ€ĞµĞ´Ğ¿Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ñ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ¸ĞºÑƒ", "hi":"à¤ à¥‹à¤¸ à¤œà¤¾à¤¨à¤•à¤¾à¤°à¥€ à¤ªà¤¸à¤‚à¤¦ à¤¹à¥ˆ"},
          {"ko":"ê°€ëŠ¥ì„±/ì•„ì´ë””ì–´ê°€ í¸í•˜ë‹¤", "en":"I prefer possibilities/ideas", "ja":"å¯èƒ½æ€§ã‚„ã‚¢ã‚¤ãƒ‡ã‚¢ãŒå¥½ã", "zh":"æ›´å–œæ¬¢å¯èƒ½æ€§/æƒ³æ³•", "ru":"Ğ›ÑĞ±Ğ»Ñ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸/Ğ¸Ğ´ĞµĞ¸", "hi":"à¤¸à¤‚à¤­à¤¾à¤µà¤¨à¤¾à¤à¤/à¤†à¤‡à¤¡à¤¿à¤¯à¤¾ à¤ªà¤¸à¤‚à¤¦ à¤¹à¥ˆà¤‚"}),
    ("TF", {"ko":"ê²°ì •ì€ ë…¼ë¦¬/ì›ì¹™ì´ ìš°ì„ ", "en":"Logic/principles first", "ja":"è«–ç†ã‚„åŸå‰‡ãŒå„ªå…ˆ", "zh":"é€»è¾‘/åŸåˆ™ä¼˜å…ˆ", "ru":"Ğ›Ğ¾Ğ³Ğ¸ĞºĞ°/Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ‹ Ğ²Ğ°Ğ¶Ğ½ĞµĞµ", "hi":"à¤¤à¤°à¥à¤•/à¤¸à¤¿à¤¦à¥à¤§à¤¾à¤‚à¤¤ à¤ªà¤¹à¤²à¥‡"},
          {"ko":"ê²°ì •ì€ ì‚¬ëŒ/ìƒí™© ë°°ë ¤ê°€ ìš°ì„ ", "en":"People/context first", "ja":"äººã‚„çŠ¶æ³ã¸ã®é…æ…®ãŒå„ªå…ˆ", "zh":"äºº/æƒ…å¢ƒä¼˜å…ˆ", "ru":"Ğ›ÑĞ´Ğ¸/ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ Ğ²Ğ°Ğ¶Ğ½ĞµĞµ", "hi":"à¤²à¥‹à¤—/à¤ªà¤°à¤¿à¤¸à¥à¤¥à¤¿à¤¤à¤¿ à¤ªà¤¹à¤²à¥‡"}),
    ("JP", {"ko":"ê³„íšëŒ€ë¡œ ì§„í–‰í•´ì•¼ ë§ˆìŒì´ í¸í•˜ë‹¤", "en":"I feel better with plans", "ja":"è¨ˆç”»é€šã‚ŠãŒå®‰å¿ƒ", "zh":"æŒ‰è®¡åˆ’æ›´å®‰å¿ƒ", "ru":"ĞšĞ¾Ğ¼Ñ„Ğ¾Ñ€Ñ‚Ğ½Ğ¾ Ğ¿Ğ¾ Ğ¿Ğ»Ğ°Ğ½Ñƒ", "hi":"à¤¯à¥‹à¤œà¤¨à¤¾ à¤¸à¥‡ à¤†à¤°à¤¾à¤® à¤®à¤¿à¤²à¤¤à¤¾ à¤¹à¥ˆ"},
          {"ko":"ìœ ì—°í•˜ê²Œ ë°”ë€Œì–´ë„ ê´œì°®ë‹¤", "en":"I'm fine staying flexible", "ja":"æŸ”è»Ÿã«å¤‰ã‚ã£ã¦ã‚‚å¹³æ°—", "zh":"çµæ´»å˜åŒ–ä¹Ÿå¯ä»¥", "ru":"ĞĞ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾ Ğ±Ñ‹Ñ‚ÑŒ Ğ³Ğ¸Ğ±ĞºĞ¸Ğ¼", "hi":"à¤²à¤šà¥€à¤²à¤¾à¤ªà¤¨ à¤ à¥€à¤• à¤¹à¥ˆ"}),

    ("EI", {"ko":"ë§í•˜ë©° ìƒê°ì´ ì •ë¦¬ëœë‹¤", "en":"I think better by talking", "ja":"è©±ã™ã¨è€ƒãˆãŒã¾ã¨ã¾ã‚‹", "zh":"è¯´å‡ºæ¥æ›´æ¸…æ™°", "ru":"Ğ”ÑƒĞ¼Ğ°Ñ Ğ»ÑƒÑ‡ÑˆĞµ, Ğ³Ğ¾Ğ²Ğ¾Ñ€Ñ", "hi":"à¤¬à¥‹à¤²à¤•à¤° à¤¸à¥‹à¤š à¤¸à¥à¤ªà¤·à¥à¤Ÿ à¤¹à¥‹à¤¤à¥€ à¤¹à¥ˆ"},
          {"ko":"ìƒê°í•œ ë’¤ ë§í•˜ëŠ” í¸ì´ë‹¤", "en":"I speak after thinking", "ja":"è€ƒãˆã¦ã‹ã‚‰è©±ã™", "zh":"æƒ³å¥½å†è¯´", "ru":"Ğ¡Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ° Ğ´ÑƒĞ¼Ğ°Ñ, Ğ¿Ğ¾Ñ‚Ğ¾Ğ¼ Ğ³Ğ¾Ğ²Ğ¾Ñ€Ñ", "hi":"à¤¸à¥‹à¤šà¤•à¤° à¤¬à¥‹à¤²à¤¤à¤¾/à¤¬à¥‹à¤²à¤¤à¥€ à¤¹à¥‚à¤"}),
    ("SN", {"ko":"ê²½í—˜/ì‚¬ì‹¤ì„ ë¯¿ëŠ” í¸", "en":"I trust experience/facts", "ja":"çµŒé¨“ãƒ»äº‹å®Ÿã‚’é‡è¦–", "zh":"é‡è§†ç»éªŒ/äº‹å®", "ru":"Ğ”Ğ¾Ğ²ĞµÑ€ÑÑ Ñ„Ğ°ĞºÑ‚Ğ°Ğ¼/Ğ¾Ğ¿Ñ‹Ñ‚Ñƒ", "hi":"à¤…à¤¨à¥à¤­à¤µ/à¤¤à¤¥à¥à¤¯ à¤ªà¤° à¤­à¤°à¥‹à¤¸à¤¾"},
          {"ko":"ì§ê°/ì˜ê°ì„ ë¯¿ëŠ” í¸", "en":"I trust intuition/inspiration", "ja":"ç›´æ„Ÿãƒ»ã²ã‚‰ã‚ãã‚’é‡è¦–", "zh":"é‡è§†ç›´è§‰/çµæ„Ÿ", "ru":"Ğ”Ğ¾Ğ²ĞµÑ€ÑÑ Ğ¸Ğ½Ñ‚ÑƒĞ¸Ñ†Ğ¸Ğ¸", "hi":"à¤…à¤‚à¤¤à¤°à¥à¤œà¥à¤à¤¾à¤¨/à¤ªà¥à¤°à¥‡à¤°à¤£à¤¾ à¤ªà¤° à¤­à¤°à¥‹à¤¸à¤¾"}),
    ("TF", {"ko":"í”¼ë“œë°±ì€ ì§ì„¤ì´ ë‚«ë‹¤", "en":"Direct feedback is best", "ja":"ç‡ç›´ãªæŒ‡æ‘˜ãŒè‰¯ã„", "zh":"ç›´æ¥åé¦ˆæ›´å¥½", "ru":"Ğ›ÑƒÑ‡ÑˆĞµ Ğ¿Ñ€ÑĞ¼Ğ¾Ğ¹ Ñ„Ğ¸Ğ´Ğ±ĞµĞº", "hi":"à¤¸à¥€à¤§à¤¾ à¤«à¥€à¤¡à¤¬à¥ˆà¤• à¤¬à¥‡à¤¹à¤¤à¤°"},
          {"ko":"í”¼ë“œë°±ì€ ë¶€ë“œëŸ½ê²Œê°€ ë‚«ë‹¤", "en":"Gentle feedback is best", "ja":"å„ªã—ãä¼ãˆã‚‹æ–¹ãŒè‰¯ã„", "zh":"æ¸©å’Œåé¦ˆæ›´å¥½", "ru":"Ğ›ÑƒÑ‡ÑˆĞµ Ğ¼ÑĞ³ĞºĞ¾ ÑĞºĞ°Ğ·Ğ°Ñ‚ÑŒ", "hi":"à¤¨à¤°à¤® à¤«à¥€à¤¡à¤¬à¥ˆà¤• à¤¬à¥‡à¤¹à¤¤à¤°"}),
    ("JP", {"ko":"ë§ˆê° ì „ì— ë¯¸ë¦¬ ëë‚´ëŠ” í¸", "en":"I finish early before deadlines", "ja":"ç· åˆ‡å‰ã«çµ‚ã‚ã‚‰ã›ã‚‹", "zh":"æå‰å®Œæˆ", "ru":"Ğ”ĞµĞ»Ğ°Ñ Ğ·Ğ°Ñ€Ğ°Ğ½ĞµĞµ", "hi":"à¤¡à¥‡à¤¡à¤²à¤¾à¤‡à¤¨ à¤¸à¥‡ à¤ªà¤¹à¤²à¥‡ à¤ªà¥‚à¤°à¤¾"},
          {"ko":"ë§ˆê° ì§ì „ì— ëª°ì•„ì„œ í•˜ëŠ” í¸", "en":"I work close to deadlines", "ja":"ç· åˆ‡ç›´å‰ã«é›†ä¸­ã™ã‚‹", "zh":"ä¸´è¿‘æˆªæ­¢å†åš", "ru":"Ğ”ĞµĞ»Ğ°Ñ Ğ±Ğ»Ğ¸Ğ¶Ğµ Ğº Ğ´ĞµĞ´Ğ»Ğ°Ğ¹Ğ½Ñƒ", "hi":"à¤¡à¥‡à¤¡à¤²à¤¾à¤‡à¤¨ à¤•à¥‡ à¤ªà¤¾à¤¸ à¤•à¤°à¤¤à¤¾/à¤•à¤°à¤¤à¥€ à¤¹à¥‚à¤"}),

    ("EI", {"ko":"ì£¼ë§ì—” ì•½ì†ì´ ìˆìœ¼ë©´ ì¢‹ë‹¤", "en":"I like plans with people on weekends", "ja":"é€±æœ«ã¯äºˆå®šãŒã‚ã‚‹ã¨å¬‰ã—ã„", "zh":"å‘¨æœ«å–œæ¬¢çº¦äºº", "ru":"Ğ›ÑĞ±Ğ»Ñ Ğ¿Ğ»Ğ°Ğ½Ñ‹ Ğ½Ğ° Ğ²Ñ‹Ñ…Ğ¾Ğ´Ğ½Ñ‹Ñ…", "hi":"à¤µà¥€à¤•à¥‡à¤‚à¤¡ à¤ªà¤° à¤®à¤¿à¤²à¤¨à¤¾ à¤…à¤šà¥à¤›à¤¾"},
          {"ko":"ì£¼ë§ì—” í˜¼ì ì‰¬ê³  ì‹¶ë‹¤", "en":"I prefer quiet weekends alone", "ja":"é€±æœ«ã¯ä¸€äººã§ä¼‘ã¿ãŸã„", "zh":"å‘¨æœ«æƒ³ç‹¬å¤„ä¼‘æ¯", "ru":"Ğ¥Ğ¾Ñ‡Ñƒ Ğ¾Ñ‚Ğ´Ñ‹Ñ…Ğ°Ñ‚ÑŒ Ğ¾Ğ´Ğ¸Ğ½(Ğ°)", "hi":"à¤µà¥€à¤•à¥‡à¤‚à¤¡ à¤…à¤•à¥‡à¤²à¥‡ à¤†à¤°à¤¾à¤®"}),
    ("SN", {"ko":"ì„¤ëª…ì€ êµ¬ì²´ì ìœ¼ë¡œ", "en":"I want concrete explanations", "ja":"èª¬æ˜ã¯å…·ä½“çš„ã«", "zh":"è§£é‡Šè¦å…·ä½“", "ru":"ĞÑƒĞ¶Ğ½Ñ‹ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğµ Ğ¾Ğ±ÑŠÑÑĞ½ĞµĞ½Ğ¸Ñ", "hi":"à¤ à¥‹à¤¸ à¤¸à¤®à¤ à¤ªà¤¸à¤‚à¤¦"},
          {"ko":"ì„¤ëª…ì€ í°ê·¸ë¦¼ìœ¼ë¡œ", "en":"I want big-picture explanations", "ja":"èª¬æ˜ã¯å…¨ä½“åƒã§", "zh":"è§£é‡Šçœ‹å¤§å±€", "ru":"ĞÑƒĞ¶Ğ½Ğ° Ğ¾Ğ±Ñ‰Ğ°Ñ ĞºĞ°Ñ€Ñ‚Ğ¸Ğ½Ğ°", "hi":"à¤¬à¤¡à¤¼à¤¾ à¤šà¤¿à¤¤à¥à¤° à¤ªà¤¸à¤‚à¤¦"}),
    ("TF", {"ko":"ê°ˆë“±ì€ ì›ì¸/í•´ê²°ì´ ìš°ì„ ", "en":"In conflict, solve the cause first", "ja":"åŸå› ã¨è§£æ±ºãŒå…ˆ", "zh":"å…ˆè§£å†³åŸå› ", "ru":"Ğ¡Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ° Ğ¿Ñ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°/Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ", "hi":"à¤ªà¤¹à¤²à¥‡ à¤•à¤¾à¤°à¤£/à¤¸à¤®à¤¾à¤§à¤¾à¤¨"},
          {"ko":"ê°ˆë“±ì€ ê°ì •/ê´€ê³„ê°€ ìš°ì„ ", "en":"In conflict, feelings/relationship first", "ja":"æ°—æŒã¡ã¨é–¢ä¿‚ãŒå…ˆ", "zh":"å…ˆé¡¾åŠæ„Ÿå—/å…³ç³»", "ru":"Ğ¡Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ° Ñ‡ÑƒĞ²ÑÑ‚Ğ²Ğ°/Ğ¾Ñ‚Ğ½Ğ¾ÑˆĞµĞ½Ğ¸Ñ", "hi":"à¤ªà¤¹à¤²à¥‡ à¤­à¤¾à¤µà¤¨à¤¾/à¤°à¤¿à¤¶à¥à¤¤à¤¾"}),
    ("JP", {"ko":"ì •ë¦¬/ì •ëˆì´ ì˜ ë˜ì–´ì•¼ í¸í•˜ë‹¤", "en":"I feel better when things are organized", "ja":"æ•´ç†æ•´é “ãŒå¿…è¦", "zh":"éœ€è¦æ•´æ´æœ‰åº", "ru":"ĞÑƒĞ¶ĞµĞ½ Ğ¿Ğ¾Ñ€ÑĞ´Ğ¾Ğº", "hi":"à¤µà¥à¤¯à¤µà¤¸à¥à¤¥à¤¾ à¤œà¤°à¥‚à¤°à¥€"},
          {"ko":"ì–´ìˆ˜ì„ í•´ë„ ì¼ë‹¨ ì§„í–‰ ê°€ëŠ¥", "en":"I can work even if it's messy", "ja":"å¤šå°‘æ•£ã‚‰ã‹ã£ã¦ã‚‚é€²ã‚ã‚‰ã‚Œã‚‹", "zh":"ä¹±ä¸€ç‚¹ä¹Ÿèƒ½åš", "ru":"ĞœĞ¾Ğ³Ñƒ Ğ¸ Ğ² Ñ…Ğ°Ğ¾ÑĞµ", "hi":"à¤¥à¥‹à¤¡à¤¼à¤¾ à¤¬à¤¿à¤–à¤°à¤¾ à¤­à¥€ à¤šà¤²à¥‡à¤—à¤¾"}),
]

MBTI_Q_16 = MBTI_Q_12 + [
    ("EI", {"ko":"ìƒˆë¡œìš´ ì‚¬ëŒì„ ë§Œë‚˜ë©´ ì„¤ë Œë‹¤", "en":"Meeting new people excites me", "ja":"æ–°ã—ã„äººã¨ã®å‡ºä¼šã„ãŒæ¥½ã—ã„", "zh":"è®¤è¯†æ–°æœ‹å‹å¾ˆå…´å¥‹", "ru":"ĞĞ¾Ğ²Ñ‹Ğµ Ğ»ÑĞ´Ğ¸ Ñ€Ğ°Ğ´ÑƒÑÑ‚", "hi":"à¤¨à¤ à¤²à¥‹à¤—à¥‹à¤‚ à¤¸à¥‡ à¤‰à¤¤à¥à¤¸à¤¾à¤¹"},
          {"ko":"ìƒˆë¡œìš´ ì‚¬ëŒì€ ì ì‘ ì‹œê°„ì´ í•„ìš”", "en":"I need time to warm up", "ja":"æ…£ã‚Œã‚‹ã¾ã§æ™‚é–“ãŒå¿…è¦", "zh":"éœ€è¦æ—¶é—´é€‚åº”", "ru":"ĞÑƒĞ¶Ğ½Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ Ğ¿Ñ€Ğ¸Ğ²Ñ‹ĞºĞ½ÑƒÑ‚ÑŒ", "hi":"à¤…à¤¨à¥à¤•à¥‚à¤²à¤¨ à¤¸à¤®à¤¯ à¤šà¤¾à¤¹à¤¿à¤"}),
    ("SN", {"ko":"ì§€ê¸ˆ í•„ìš”í•œ í˜„ì‹¤ì´ ì¤‘ìš”", "en":"Whatâ€™s needed now matters", "ja":"ä»Šå¿…è¦ãªç¾å®ŸãŒå¤§äº‹", "zh":"å½“ä¸‹ç°å®æ›´é‡è¦", "ru":"Ğ’Ğ°Ğ¶Ğ½Ğ¾ Ñ‚Ğ¾, Ñ‡Ñ‚Ğ¾ Ğ½ÑƒĞ¶Ğ½Ğ¾ ÑĞµĞ¹Ñ‡Ğ°Ñ", "hi":"à¤…à¤­à¥€ à¤•à¥€ à¤œà¤°à¥‚à¤°à¤¤ à¤®à¤¹à¤¤à¥à¤µà¤ªà¥‚à¤°à¥à¤£"},
          {"ko":"ë¯¸ë˜ ê°€ëŠ¥ì„±ì´ ë” ì¤‘ìš”", "en":"Future possibilities matter more", "ja":"æœªæ¥ã®å¯èƒ½æ€§ãŒå¤§äº‹", "zh":"æœªæ¥å¯èƒ½æ€§æ›´é‡è¦", "ru":"Ğ’Ğ°Ğ¶Ğ½ĞµĞµ Ğ±ÑƒĞ´ÑƒÑ‰Ğ¸Ğµ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸", "hi":"à¤­à¤µà¤¿à¤·à¥à¤¯ à¤•à¥€ à¤¸à¤‚à¤­à¤¾à¤µà¤¨à¤¾ à¤®à¤¹à¤¤à¥à¤µà¤ªà¥‚à¤°à¥à¤£"}),
    ("TF", {"ko":"ê³µì •í•¨ì´ ìµœìš°ì„ ", "en":"Fairness is top priority", "ja":"å…¬å¹³ã•ãŒæœ€å„ªå…ˆ", "zh":"å…¬å¹³æœ€é‡è¦", "ru":"Ğ¡Ğ¿Ñ€Ğ°Ğ²ĞµĞ´Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚ÑŒ Ğ²Ğ°Ğ¶Ğ½ĞµĞµ Ğ²ÑĞµĞ³Ğ¾", "hi":"à¤¨à¥à¤¯à¤¾à¤¯ à¤¸à¤¬à¤¸à¥‡ à¤ªà¤¹à¤²à¥‡"},
          {"ko":"ì¡°í™”ë¡œì›€ì´ ìµœìš°ì„ ", "en":"Harmony is top priority", "ja":"èª¿å’ŒãŒæœ€å„ªå…ˆ", "zh":"å’Œè°æœ€é‡è¦", "ru":"Ğ“Ğ°Ñ€Ğ¼Ğ¾Ğ½Ğ¸Ñ Ğ²Ğ°Ğ¶Ğ½ĞµĞµ Ğ²ÑĞµĞ³Ğ¾", "hi":"à¤¸à¤¾à¤®à¤‚à¤œà¤¸à¥à¤¯ à¤¸à¤¬à¤¸à¥‡ à¤ªà¤¹à¤²à¥‡"}),
    ("JP", {"ko":"ì¼ì •ì´ í™•ì •ë˜ì–´ì•¼ ì•ˆì‹¬", "en":"I relax when plans are fixed", "ja":"äºˆå®šãŒç¢ºå®šã™ã‚‹ã¨å®‰å¿ƒ", "zh":"è®¡åˆ’ç¡®å®šæ›´å®‰å¿ƒ", "ru":"Ğ¡Ğ¿Ğ¾ĞºĞ¾Ğ¹Ğ½Ğ¾, ĞºĞ¾Ğ³Ğ´Ğ° Ğ¿Ğ»Ğ°Ğ½ Ñ„Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½", "hi":"à¤¯à¥‹à¤œà¤¨à¤¾ à¤¤à¤¯ à¤¹à¥‹ à¤¤à¥‹ à¤†à¤°à¤¾à¤®"},
          {"ko":"ìƒí™©ì— ë”°ë¼ ë°”ë€ŒëŠ” ê²Œ ìì—°ìŠ¤ëŸ¬ì›€", "en":"Changing plans is natural", "ja":"çŠ¶æ³ã§å¤‰ã‚ã‚‹ã®ãŒè‡ªç„¶", "zh":"æ ¹æ®æƒ…å†µå˜åŒ–å¾ˆæ­£å¸¸", "ru":"ĞœĞµĞ½ÑÑ‚ÑŒ Ğ¿Ğ»Ğ°Ğ½Ñ‹ â€” Ğ½Ğ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾", "hi":"à¤ªà¤°à¤¿à¤¸à¥à¤¥à¤¿à¤¤à¤¿ à¤•à¥‡ à¤…à¤¨à¥à¤¸à¤¾à¤° à¤¬à¤¦à¤²à¤¾à¤µ à¤ à¥€à¤•"}),
]

# =========================================================
# 7) Helpers
# =========================================================
def calc_zodiac_key(year: int) -> str:
    idx = (year - 4) % 12
    return ZODIAC_ORDER[idx]

def get_saju(lang: str, y: int, m: int, d: int) -> str:
    arr = SAJU_MSGS.get(lang, SAJU_MSGS["en"])
    base = (y + m + d) % len(arr)
    return arr[base]

def seeded_daily(lang: str, zodiac_key: str, offset: int = 0) -> str:
    day = datetime.now() + timedelta(days=offset)
    seed = int(day.strftime("%Y%m%d")) + ZODIAC_ORDER.index(zodiac_key) * 17
    random.seed(seed)
    arr = DAILY.get(lang, DAILY["en"])
    return random.choice(arr)

def year_overall(lang: str, zodiac_key: str, mbti: str) -> str:
    seed = ZODIAC_ORDER.index(zodiac_key) * 101 + sum(ord(c) for c in mbti)
    random.seed(seed)
    arr = YEAR_ALL.get(lang, YEAR_ALL["en"])
    return random.choice(arr)

def pick_tarot(lang: str):
    key = random.choice(list(TAROT.keys()))
    name_local = TAROT[key]["name"].get(lang, TAROT[key]["name"]["en"])
    meaning_local = TAROT[key]["meaning"].get(lang, TAROT[key]["meaning"]["en"])
    return key, name_local, meaning_local

def combo_advice(lang: str, mbti: str) -> str:
    # ê°„ë‹¨í•˜ì§€ë§Œ ì–¸ì–´ë³„ ìµœì†Œ ëŒ€ì‘ (ì˜ì–´/ê¸°íƒ€ëŠ” ê³µí†µ)
    ei, sn, tf, jp = mbti[0], mbti[1], mbti[2], mbti[3]
    if lang == "ko":
        return "\n".join([
            "ì—°ì• ìš´: " + ("ê°ì • êµë¥˜ê°€ ìš´ì„ í‚¤ì›ë‹ˆë‹¤. ì˜¤ëŠ˜ì€ â€˜ê³µê° í•œ ë§ˆë””â€™ë¥¼ ë¨¼ì €!" if tf == "F"
                      else "í•´ê²°í•˜ë ¤ ë“¤ê¸°ë³´ë‹¤ â€˜ë“£ê¸°â€™ê°€ í¬ì¸íŠ¸. ë…¼ë¦¬ 50%, ê³µê° 50%!"),
            "ì¬ë¬¼ìš´: " + ("ê³„íší˜•ì´ë¼ ì§€ì¶œ í†µì œê°€ ê°•ì . ì˜ˆì‚°í‘œ/ìë™ì´ì²´ë¡œ ìš´ì„ êµ³íˆì„¸ìš”." if jp == "J"
                      else "ì¦‰í¥ì§€ì¶œë§Œ ë§‰ìœ¼ë©´ ì¢‹ì•„ì ¸ìš”. â€˜í•˜ë£¨ ë’¤ êµ¬ë§¤â€™ ë£° ì¶”ì²œ."),
            "ì¼/í•™ì—…ìš´: " + ("í°ê·¸ë¦¼ ê°•ì ! ì²´í¬ë¦¬ìŠ¤íŠ¸ë¡œ ì‹¤í–‰í•˜ë©´ ì„±ê³¼ í­ë°œ." if sn == "N"
                        else "ë””í…Œì¼ ê°•ì ! ë£¨í‹´ì„ ë§Œë“¤ë©´ ì•ˆì •ì ìœ¼ë¡œ ì„±ê³¼ ìƒìŠ¹."),
            "ê±´ê°•ìš´: " + ("ëŒ€ì™¸í™œë™ ê³¼ì—´ ì£¼ì˜. ìˆ˜ë©´/ì¹´í˜ì¸ ì¡°ì ˆì´ í•µì‹¬." if ei == "E"
                      else "í˜¼ì íšŒë³µì´ ì¤‘ìš”. 5ë¶„ ì‚°ì±…+ìŠ¤íŠ¸ë ˆì¹­ ì¶”ì²œ."),
        ])
    return "\n".join([
        "Love: Listen first and respond with empathy.",
        "Money: Avoid impulse buys; a simple budget helps.",
        "Work/Study: Turn strengths into a checklist and execute.",
        "Health: Keep sleep consistent; short walks help.",
    ])

def normalize_phone(phone: str) -> str:
    return re.sub(r"[^0-9]", "", phone or "")

# =========================================================
# 8) Google Sheet (ì»¬ëŸ¼ ê³ ì •)
#  ì‹œê°„ | ì´ë¦„ | ì „í™”ë²ˆí˜¸ | ì–¸ì–´ | ê¸°ë¡ì´ˆ | ê³µìœ ì—¬ë¶€
# =========================================================
def get_sheet():
    try:
        if gspread is None or Credentials is None:
            return None
        if "gcp_service_account" not in st.secrets:
            return None

        scopes = [
            "https://www.googleapis.com/auth/spreadsheets",
            "https://www.googleapis.com/auth/drive",
        ]
        info = dict(st.secrets["gcp_service_account"])
        if "private_key" in info and isinstance(info["private_key"], str):
            info["private_key"] = info["private_key"].replace("\\n", "\n")

        creds = Credentials.from_service_account_info(info, scopes=scopes)
        gc = gspread.authorize(creds)
        sh = gc.open_by_key(SPREADSHEET_ID)
        ws = sh.worksheet(SHEET_NAME)
        return ws
    except Exception:
        return None

def read_all_rows(ws):
    try:
        return ws.get_all_values()
    except Exception:
        return []

def count_winners(ws) -> int:
    values = read_all_rows(ws)
    winners = 0
    for row in values[1:] if len(values) > 0 else []:
        if len(row) < 6:
            continue
        try:
            sec = float(row[4])
        except Exception:
            continue
        if 20.160 <= sec <= 20.169:
            winners += 1
    return winners

def phone_exists(ws, phone_norm: str) -> bool:
    values = read_all_rows(ws)
    for row in values[1:] if len(values) > 0 else []:
        if len(row) < 3:
            continue
        if normalize_phone(row[2]) == phone_norm and phone_norm != "":
            return True
    return False

def append_entry(ws, name, phone, lang, seconds, shared_bool):
    now_str = datetime.now().strftime("%Y-%m-%d %H:%M:%S")
    ws.append_row([now_str, name, phone, lang, f"{seconds:.3f}", str(bool(shared_bool))])

# =========================================================
# 9) Share Link Component (ë°˜í™˜ê°’ íƒ€ì… ë°©ì–´)
# =========================================================
def share_link_component(button_label: str, share_text: str, share_url: str, key: str):
    payload = {"label": button_label, "text": share_text, "url": share_url}
    return st.components.v1.html(
        f"""
<div style="margin: 8px 0;">
  <button id="btn" style="
    width:100%;
    border:none;border-radius:999px;
    padding:12px 14px;
    font-weight:900;
    background:#6b4fd6;color:white;
    cursor:pointer;
  ">{button_label}</button>
</div>
<script>
(function() {{
  const data = {json.dumps(payload, ensure_ascii=False)};
  const btn = document.getElementById("btn");

  function send(v) {{
    window.parent.postMessage({{
      isStreamlitMessage: true,
      type: "streamlit:setComponentValue",
      value: v
    }}, "*");
  }}

  async function copyToClipboard(text) {{
    try {{
      await navigator.clipboard.writeText(text);
      return true;
    }} catch(e) {{
      return false;
    }}
  }}

  btn.addEventListener("click", async () => {{
    if (navigator.share) {{
      try {{
        await navigator.share({{ title: "2026 Fortune", text: data.text, url: data.url }});
        send({{ ok:true, mode:"share" }});
        return;
      }} catch(e) {{}}
    }}
    const okCopy = await copyToClipboard(data.url);
    send({{ ok: okCopy, mode:"copy" }});
  }});
}})();
</script>
""",
        height=70,
        key=key
    )

def parse_component_value(v):
    """dict / JSON string / None ëª¨ë‘ ëŒ€ì‘"""
    if v is None:
        return None
    if isinstance(v, dict):
        return v
    if isinstance(v, str):
        # ê°„í˜¹ JSON ë¬¸ìì—´ë¡œ ì˜¬ ìˆ˜ ìˆìŒ
        try:
            j = json.loads(v)
            if isinstance(j, dict):
                return j
        except Exception:
            return None
    return None

# =========================================================
# 10) Stopwatch Component (ì¤‘ë³µ ì²˜ë¦¬ ë°©ì§€)
# =========================================================
def stopwatch_component(key: str, note_text: str):
    return st.components.v1.html(
        f"""
<div style="
  background: rgba(255,255,255,0.96);
  border-radius: 18px;
  padding: 16px;
  border: 1px solid rgba(140,120,200,0.18);
  box-shadow: 0 10px 28px rgba(0,0,0,0.08);
  text-align:center;
">
  <div style="font-weight:900;font-size:1.15rem;color:#2b2350;margin-bottom:10px;">
    â±ï¸ STOPWATCH
  </div>

  <div id="display" style="
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', monospace;
    font-weight:900;
    font-size: 54px;
    letter-spacing: 2px;
    padding: 14px 10px;
    border-radius: 14px;
    background: rgba(245,245,255,0.85);
    border: 1px solid rgba(130,95,220,0.20);
    color: #1f1747;
  ">00:00.000</div>

  <div style="display:flex; gap:10px; justify-content:center; margin-top:12px;">
    <button id="startBtn" style="
      flex:1; max-width: 240px;
      border:none; border-radius: 999px;
      padding: 12px 14px;
      font-weight:900;
      background:#6b4fd6; color:white;
      cursor:pointer;
    ">START</button>

    <button id="stopBtn" style="
      flex:1; max-width: 240px;
      border:none; border-radius: 999px;
      padding: 12px 14px;
      font-weight:900;
      background:#ff8c50; color:white;
      cursor:pointer;
    ">STOP</button>
  </div>

  <div style="margin-top:10px; font-size:0.92rem; opacity:0.85;">
    {note_text}
  </div>
</div>

<script>
(function() {{
  let running = false;
  let startTime = 0;
  let rafId = null;
  const display = document.getElementById("display");
  const startBtn = document.getElementById("startBtn");
  const stopBtn = document.getElementById("stopBtn");

  function fmt(ms) {{
    const total = Math.max(0, ms);
    const m = Math.floor(total / 60000);
    const s = Math.floor((total % 60000) / 1000);
    const mm = Math.floor(total % 1000);
    return String(m).padStart(2,'0') + ":" + String(s).padStart(2,'0') + "." + String(mm).padStart(3,'0');
  }}

  function tick() {{
    if (!running) return;
    const now = performance.now();
    display.textContent = fmt(now - startTime);
    rafId = requestAnimationFrame(tick);
  }}

  function sendValue(val) {{
    window.parent.postMessage({{
      isStreamlitMessage: true,
      type: "streamlit:setComponentValue",
      value: val
    }}, "*");
  }}

  startBtn.addEventListener("click", () => {{
    running = true;
    startTime = performance.now();
    display.textContent = "00:00.000";
    if (rafId) cancelAnimationFrame(rafId);
    rafId = requestAnimationFrame(tick);
  }});

  stopBtn.addEventListener("click", () => {{
    if (!running) return;
    running = false;
    if (rafId) cancelAnimationFrame(rafId);
    const now = performance.now();
    const elapsedSec = (now - startTime) / 1000.0;
    sendValue(elapsedSec);
  }});
}})();
</script>
""",
        height=270,
        key=key
    )

# =========================================================
# 11) MBTI ê³„ì‚°
# =========================================================
def compute_mbti_from_answers(answers, default="ENFP"):
    scores = {"EI":0, "SN":0, "TF":0, "JP":0}
    counts = {"EI":0, "SN":0, "TF":0, "JP":0}
    for axis, pick_left in answers:
        if axis not in scores:
            continue
        counts[axis] += 1
        if pick_left:
            scores[axis] += 1

    def decide(axis, left_char, right_char):
        if counts[axis] == 0:
            return left_char
        return left_char if scores[axis] >= (counts[axis]/2) else right_char

    EorI = decide("EI","E","I")
    SorN = decide("SN","S","N")
    TorF = decide("TF","T","F")
    JorP = decide("JP","J","P")
    mbti = f"{EorI}{SorN}{TorF}{JorP}"
    return mbti if mbti in MBTI_DESC else default

# =========================================================
# 12) Session State
# =========================================================
if "lang" not in st.session_state: st.session_state.lang = "ko"
if "name" not in st.session_state: st.session_state.name = ""
if "y" not in st.session_state: st.session_state.y = 2005
if "m" not in st.session_state: st.session_state.m = 1
if "d" not in st.session_state: st.session_state.d = 1
if "stage" not in st.session_state: st.session_state.stage = "input"
if "mbti" not in st.session_state: st.session_state.mbti = None
if "mbti_mode" not in st.session_state: st.session_state.mbti_mode = "direct"

# ê³µìœ  ë³´ë„ˆìŠ¤
if "shared" not in st.session_state: st.session_state.shared = False
if "max_attempts" not in st.session_state: st.session_state.max_attempts = 1

# ë¯¸ë‹ˆê²Œì„
if "attempts_used" not in st.session_state: st.session_state.attempts_used = 0
if "show_win_form" not in st.session_state: st.session_state.show_win_form = False
if "win_seconds" not in st.session_state: st.session_state.win_seconds = None
if "last_stopwatch_value" not in st.session_state: st.session_state.last_stopwatch_value = None

# =========================================================
# 13) UI Style
# =========================================================
st.markdown("""
<style>
.block-container { padding-top: 1.0rem; padding-bottom: 2.5rem; max-width: 720px; }
.card {
  background: rgba(255,255,255,0.96);
  border-radius: 18px;
  padding: 18px 16px;
  box-shadow: 0 10px 28px rgba(0,0,0,0.10);
  border: 1px solid rgba(140,120,200,0.18);
  margin: 12px 0;
}
.header-hero {
  border-radius: 20px;
  padding: 18px 16px;
  background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 50%, #8ec5fc 100%);
  color: white;
  text-align: center;
  box-shadow: 0 12px 30px rgba(0,0,0,0.18);
  margin-bottom: 14px;
}
.hero-title { font-size: 1.5rem; font-weight: 900; margin: 0; }
.hero-sub { font-size: 0.95rem; opacity: 0.95; margin-top: 6px; }
.badge {
  display:inline-block;
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 0.85rem;
  background: rgba(255,255,255,0.20);
  border: 1px solid rgba(255,255,255,0.25);
  margin-top: 10px;
}
.soft-box {
  background: rgba(245,245,255,0.78);
  border: 1px solid rgba(130,95,220,0.18);
  padding: 12px 12px;
  border-radius: 14px;
  line-height: 1.65;
  font-size: 1.0rem;
}
.bigbtn > button {
  border-radius: 999px !important;
  font-weight: 900 !important;
  padding: 0.75rem 1.2rem !important;
}
.adbox {
  background: rgba(255,255,255,0.96);
  border-radius: 18px;
  padding: 16px;
  margin: 12px 0;
  border: 2px solid rgba(255, 140, 80, 0.55);
  box-shadow: 0 10px 28px rgba(0,0,0,0.08);
  text-align:center;
}
.adplaceholder {
  background: rgba(255,255,255,0.75);
  border-radius: 18px;
  padding: 14px;
  margin: 12px 0;
  border: 2px dashed rgba(170, 130, 220, 0.55);
  text-align:center;
  color: rgba(60,40,110,0.85);
}
.small-note { font-size: 0.92rem; opacity: 0.88; text-align:center; margin-top: 8px; }
hr.soft { border:0; height:1px; background: rgba(120, 90, 210, 0.15); margin: 14px 0; }
</style>
""", unsafe_allow_html=True)

# =========================================================
# 14) Language picker + SEO
# =========================================================
lang_labels = [label for _, label in LANGS]
lang_codes = [code for code, _ in LANGS]
current_idx = lang_codes.index(st.session_state.lang) if st.session_state.lang in lang_codes else 0

# Streamlit ë²„ì „ì— ë”°ë¼ horizontal ì¸ìê°€ TypeErrorë¥¼ ë‚¼ ìˆ˜ë„ ìˆì–´ì„œ ë°©ì–´
try:
    picked = st.radio(T[st.session_state.lang]["lang_pick"], lang_labels, index=current_idx, horizontal=True)
except TypeError:
    picked = st.radio(T[st.session_state.lang]["lang_pick"], lang_labels, index=current_idx)

st.session_state.lang = lang_codes[lang_labels.index(picked)]
t = T[st.session_state.lang]
inject_seo(st.session_state.lang)

MBTI_LIST = sorted(MBTI_DESC.keys())

def render_mbti_test(questions, lang_code: str, title: str, key_prefix: str):
    st.markdown(f"<div class='card'><b>{title}</b><br><span style='opacity:0.85;'>{t['mbti_test_help']}</span></div>", unsafe_allow_html=True)
    answers = []
    for i, (axis, left_map, right_map) in enumerate(questions, start=1):
        left_txt = left_map.get(lang_code, left_map.get("en", ""))
        right_txt = right_map.get(lang_code, right_map.get("en", ""))
        choice = st.radio(
            f"{i}. {axis}",
            options=[left_txt, right_txt],
            index=0,
            key=f"{key_prefix}_{i}"
        )
        answers.append((axis, choice == left_txt))
    if st.button(t["mbti_submit"], use_container_width=True):
        st.session_state.mbti = compute_mbti_from_answers(answers)
        return True
    return False

# =========================================================
# 15) Screens
# =========================================================
def render_input():
    st.markdown(f"""
    <div class="header-hero">
      <p class="hero-title">ğŸ”® {t["title"]}</p>
      <p class="hero-sub">{t["subtitle"]}</p>
      <span class="badge">2026</span>
    </div>
    """, unsafe_allow_html=True)

    st.session_state.name = st.text_input(t["name"], value=st.session_state.name)

    st.markdown(f"<div class='card'><b>{t['birth']}</b></div>", unsafe_allow_html=True)
    c1, c2, c3 = st.columns(3)
    st.session_state.y = c1.number_input(t["year"], 1900, 2030, st.session_state.y, 1)
    st.session_state.m = c2.number_input(t["month"], 1, 12, st.session_state.m, 1)
    st.session_state.d = c3.number_input(t["day"], 1, 31, st.session_state.d, 1)

    st.markdown(f"<div class='card'><b>{t['mbti_mode']}</b></div>", unsafe_allow_html=True)

    try:
        mode = st.radio(
            label="",
            options=[t["mbti_direct"], t["mbti_12"], t["mbti_16"]],
            index=0 if st.session_state.mbti_mode=="direct" else (1 if st.session_state.mbti_mode=="12" else 2),
            horizontal=True
        )
    except TypeError:
        mode = st.radio(
            label="",
            options=[t["mbti_direct"], t["mbti_12"], t["mbti_16"]],
            index=0 if st.session_state.mbti_mode=="direct" else (1 if st.session_state.mbti_mode=="12" else 2),
        )

    if mode == t["mbti_direct"]:
        st.session_state.mbti_mode = "direct"
    elif mode == t["mbti_12"]:
        st.session_state.mbti_mode = "12"
    else:
        st.session_state.mbti_mode = "16"

    if st.session_state.mbti_mode == "direct":
        idx = MBTI_LIST.index(st.session_state.mbti) if st.session_state.mbti in MBTI_LIST else (MBTI_LIST.index("ENFP") if "ENFP" in MBTI_LIST else 0)
        st.session_state.mbti = st.selectbox("MBTI", MBTI_LIST, index=idx)
    elif st.session_state.mbti_mode == "12":
        done = render_mbti_test(MBTI_Q_12, st.session_state.lang, t["mbti_test_12_title"], "q12")
        if done:
            st.success(f"MBTI: {st.session_state.mbti}")
    else:
        done = render_mbti_test(MBTI_Q_16, st.session_state.lang, t["mbti_test_16_title"], "q16")
        if done:
            st.success(f"MBTI: {st.session_state.mbti}")

    st.markdown('<div class="bigbtn">', unsafe_allow_html=True)
    if st.button(t["go_result"], use_container_width=True):
        if not st.session_state.mbti:
            st.session_state.mbti = "ENFP"
        st.session_state.stage = "result"
        st.rerun()
    st.markdown('</div>', unsafe_allow_html=True)

def render_result():
    lang = st.session_state.lang
    s = t["sections"]

    y, m, d = st.session_state.y, st.session_state.m, st.session_state.d
    zodiac_key = calc_zodiac_key(y)

    zodiac_label = ZODIAC_LABEL[zodiac_key].get(lang, ZODIAC_LABEL[zodiac_key]["en"])
    zodiac_desc = ZODIAC_TEXT[zodiac_key].get(lang, ZODIAC_TEXT[zodiac_key]["en"])

    mbti = st.session_state.mbti or "ENFP"
    mbti_line = MBTI_DESC.get(mbti, {}).get(lang, MBTI_DESC.get(mbti, {}).get("en", mbti))

    name = (st.session_state.name or "").strip()
    display_name = f"{name}ë‹˜" if (lang == "ko" and name) else (name if name else "")

    saju = get_saju(lang, y, m, d)
    today = seeded_daily(lang, zodiac_key, 0)
    tomorrow = seeded_daily(lang, zodiac_key, 1)
    overall = year_overall(lang, zodiac_key, mbti)
    advice = combo_advice(lang, mbti)

    st.markdown(f"""
    <div class="header-hero">
      <p class="hero-title">{display_name} {('2026ë…„ ìš´ì„¸' if lang=='ko' else '2026 Fortune')}</p>
      <p class="hero-sub">{zodiac_label} Â· {mbti}</p>
      <span class="badge">2026</span>
    </div>
    """, unsafe_allow_html=True)

    st.markdown("<div class='card'>", unsafe_allow_html=True)
    st.markdown(f"**{s['zodiac']}**: {zodiac_desc}")
    st.markdown(f"**{s['mbti']}**: {mbti_line}")
    st.markdown(f"**{s['saju']}**: {saju}")
    st.markdown("<hr class='soft'/>", unsafe_allow_html=True)
    st.markdown(f"**{s['today']}**: {today}")
    st.markdown(f"**{s['tomorrow']}**: {tomorrow}")
    st.markdown("<hr class='soft'/>", unsafe_allow_html=True)
    st.markdown(f"**{s['year_all']}**: {overall}")
    st.markdown("</div>", unsafe_allow_html=True)

    st.markdown("<div class='card'>", unsafe_allow_html=True)
    st.markdown(f"**{s['advice']}**:\n\n{advice}")
    st.markdown("</div>", unsafe_allow_html=True)

    # ---- Tarot (TypeError ë°©ì§€: try ê°ì‹¸ê¸°) ----
    try:
        if st.button(t["tarot_btn"], use_container_width=True):
            eng_key, local_name, local_meaning = pick_tarot(lang)
            st.markdown(f"""
            <div class="card" style="text-align:center;">
              <div style="font-weight:900;color:#6b4fd6;">{t["tarot_title"]}</div>
              <div style="font-size:1.45rem;font-weight:900;margin-top:6px;">{local_name}</div>
              <div style="opacity:0.75;margin-top:2px;">{eng_key}</div>
              <div style="margin-top:10px;" class="soft-box">{local_meaning}</div>
            </div>
            """, unsafe_allow_html=True)
    except Exception:
        # íƒ€ë¡œëŠ” ì ˆëŒ€ ì•± ì „ì²´ë¥¼ ì£½ì´ë©´ ì•ˆ ë¨
        st.warning("íƒ€ë¡œ í‘œì‹œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì–´ìš”. ìƒˆë¡œê³ ì¹¨ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.")

    # ---- Share (ìº¡ì³ ë°©ì‹) ----
    share_text = f"{display_name} {zodiac_label} {mbti} | {APP_URL}".strip()
    raw_val = share_link_component(t["share_link_btn"], share_text, APP_URL, key="share_link_component")
    val = parse_component_value(raw_val)

    if isinstance(val, dict) and val.get("ok") is True:
        if not st.session_state.shared:
            st.session_state.shared = True
            st.session_state.max_attempts = 2
        if val.get("mode") == "copy":
            safe_toast(t.get("copy_done", "Copied!"))

    st.caption(t["share_link_hint"])

    # ---- ê´‘ê³  ìœ„ì¹˜: ë¯¸ë‹ˆê²Œì„ ë°”ë¡œ ìœ„ ----
    st.markdown(f"<div class='adplaceholder'>{t['ad_placeholder']}</div>", unsafe_allow_html=True)
    if lang == "ko":
        st.markdown(f"""
        <div class="adbox">
          <small style="font-weight:900;color:#e74c3c;">ê´‘ê³ </small><br>
          <div style="font-size:1.15rem;font-weight:900;margin-top:6px;">{t["ad_kr_title"]}</div>
          <div style="margin-top:6px;">{t["ad_kr_body1"]}</div>
          <div>{t["ad_kr_body2"]}</div>
          <div style="margin-top:10px;">
            <a href="{t["ad_kr_url"]}" target="_blank"
               style="display:inline-block;background:#ff8c50;color:white;
               padding:10px 16px;border-radius:999px;font-weight:900;text-decoration:none;">
              {t["ad_kr_link"]}
            </a>
          </div>
        </div>
        """, unsafe_allow_html=True)

    # ---- ë¯¸ë‹ˆê²Œì„ (í•œêµ­ì–´ë§Œ) ----
    if lang == "ko":
        st.markdown(
            f"<div class='card'><div style='font-weight:900;font-size:1.2rem;'>{t['mini_title']}</div>"
            f"<div style='margin-top:8px;' class='soft-box'>{t['mini_desc']}</div></div>",
            unsafe_allow_html=True
        )

        ws = get_sheet()
        sheet_ready = ws is not None
        if not sheet_ready:
            st.warning(t["sheet_fail"])
        else:
            st.success(t["sheet_ok"])

        closed = False
        if sheet_ready:
            try:
                closed = (count_winners(ws) >= 20)
            except Exception:
                closed = False

        tries_left = max(0, st.session_state.max_attempts - st.session_state.attempts_used)
        st.markdown(
            f"<div class='small-note'>{t['mini_try_left']}: <b>{tries_left}</b> / {st.session_state.max_attempts}</div>",
            unsafe_allow_html=True
        )

        if closed:
            st.info(t["mini_closed"])
        else:
            elapsed = stopwatch_component("stopwatch_v4", t["stopwatch_note"])

            if elapsed is not None:
                try:
                    elapsed_val = float(elapsed)
                except Exception:
                    elapsed_val = None

                if elapsed_val is not None:
                    # ë¦¬ëŸ° ì¤‘ë³µ ì²˜ë¦¬ ë°©ì§€
                    if st.session_state.last_stopwatch_value != elapsed_val:
                        st.session_state.last_stopwatch_value = elapsed_val

                        if tries_left <= 0:
                            st.warning(t.get("try_over", "No tries left."))
                        else:
                            st.session_state.attempts_used += 1
                            st.markdown(f"<div class='card'><b>ê¸°ë¡</b>: {elapsed_val:.3f}s</div>", unsafe_allow_html=True)

                            if 20.160 <= elapsed_val <= 20.169:
                                st.session_state.show_win_form = True
                                st.session_state.win_seconds = elapsed_val
                            else:
                                st.info(t.get("miss", "Miss."))

            if st.session_state.show_win_form and st.session_state.win_seconds is not None:
                st.markdown("<div class='card'>", unsafe_allow_html=True)
                st.markdown(f"### {t['win_title']}")
                st.markdown(f"**ê¸°ë¡:** {st.session_state.win_seconds:.3f}s")

                nm = st.text_input(t["win_name"], value=(st.session_state.name or "").strip(), key="win_name_input")
                ph = st.text_input(t["win_phone"], value="", key="win_phone_input")
                ph_norm = normalize_phone(ph)

                consent = st.checkbox(
                    f"{t['win_consent']}  \n{t['win_consent_text']}",
                    value=False,
                    key="consent_chk"
                )

                if st.button(t["win_submit"], use_container_width=True):
                    if not sheet_ready:
                        st.error(t["sheet_fail"])
                    elif not consent:
                        st.warning("ë™ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤.")
                    elif nm.strip() == "" or ph_norm == "":
                        st.warning("ì´ë¦„/ì „í™”ë²ˆí˜¸ë¥¼ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”.")
                    else:
                        try:
                            if phone_exists(ws, ph_norm):
                                st.warning(t["mini_dup"])
                            else:
                                if count_winners(ws) >= 20:
                                    st.info(t["mini_closed"])
                                else:
                                    append_entry(ws, nm.strip(), ph_norm, lang, float(st.session_state.win_seconds), st.session_state.shared)
                                    st.success(t["win_thanks"])
                                    st.session_state.show_win_form = False
                                    st.session_state.win_seconds = None
                        except Exception as e:
                            st.error(f"ì €ì¥ ì¤‘ ì˜¤ë¥˜: {e}")

                st.markdown("</div>", unsafe_allow_html=True)

    # ---- ê²€ìƒ‰/AI ë…¸ì¶œ ì„¹ì…˜ ----
    st.markdown("<div class='card'>", unsafe_allow_html=True)
    st.markdown(f"### {t['faq_title']}")
    if lang == "ko":
        st.markdown("- **2026 ìš´ì„¸/ë ìš´ì„¸/MBTI ìš´ì„¸/ì‚¬ì£¼/ì˜¤ëŠ˜ìš´ì„¸/ë‚´ì¼ìš´ì„¸/íƒ€ë¡œ**ë¥¼ ë¬´ë£Œë¡œ ì œê³µí•©ë‹ˆë‹¤.")
        st.markdown("- MBTI(E/I, S/N, T/F, J/P) ì„±í–¥ì„ ë°˜ì˜í•´ **ì—°ì• Â·ì¬ë¬¼Â·ì¼/í•™ì—…Â·ê±´ê°•** ì¡°ì–¸ì„ ì œê³µí•©ë‹ˆë‹¤.")
        st.markdown("- í•œêµ­ì–´ í™”ë©´ì—ëŠ” ì„ ì°©ìˆœ ì´ë²¤íŠ¸ ë¯¸ë‹ˆê²Œì„(êµ¬ê¸€ì‹œíŠ¸ ì €ì¥)ì´ í¬í•¨ë©ë‹ˆë‹¤.")
    else:
        st.markdown("- Free 2026 zodiac + MBTI-based advice + saju + today/tomorrow + tarot.")
    st.markdown("</div>", unsafe_allow_html=True)

    # ---- Reset (ê²°ê³¼ í™”ë©´ë§Œ) ----
    if st.button(t["reset"], use_container_width=True):
        st.session_state.clear()
        st.rerun()

    st.caption(APP_URL)

# =========================================================
# 16) Router
# =========================================================
if st.session_state.stage == "input":
    render_input()
else:
    render_result()
